<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CodeLingo - Belajar Informatika</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- FontAwesome Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800;900&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;500;700&display=swap" rel="stylesheet">

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Nunito', 'sans-serif'],
                        mono: ['Fira Code', 'monospace'],
                    },
                    colors: {
                        dark: {
                            bg: '#020617',      // Deep Space
                            card: '#0f172a',    // Slate 900
                            border: '#1e293b',  // Slate 800
                        },
                        brand: {
                            primary: '#00f3ff', // Cyber Cyan
                            dark: '#00bcd4',    // Cyan Dark
                            accent: '#d946ef',  // Fuchsia Neon
                            success: '#00ffa3', // Neon Green
                            successDark: '#059669',
                            warning: '#fbbf24', // Amber
                            danger: '#ff0055',  // Neon Red
                        }
                    },
                    animation: {
                        'float': 'float 6s ease-in-out infinite',
                        'pulse-glow': 'pulseGlow 4s infinite',
                    },
                    keyframes: {
                        float: {
                            '0%, 100%': { transform: 'translateY(0)' },
                            '50%': { transform: 'translateY(-15px)' },
                        },
                        pulseGlow: {
                            '0%, 100%': { opacity: 0.6 },
                            '50%': { opacity: 1 },
                        }
                    }
                }
            }
        }
    </script>

    <style>
        body { background-color: #020617; color: white; }
        
        /* Glassmorphism Premium */
        .glass-panel {
            background: rgba(10, 15, 30, 0.7);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border-right: 1px solid rgba(255, 255, 255, 0.05);
        }
        .glass-card {
            background: linear-gradient(145deg, rgba(255, 255, 255, 0.03) 0%, rgba(255, 255, 255, 0.01) 100%);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.08);
            box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.2);
            transition: transform 0.3s ease, border-color 0.3s ease;
        }
        .glass-card:hover {
            border-color: rgba(0, 243, 255, 0.3);
            transform: translateY(-5px);
            box-shadow: 0 10px 40px -10px rgba(0, 243, 255, 0.2);
        }

        /* 3D Button */
        .btn-3d {
            transition: all 0.15s;
            border-bottom-width: 4px;
            transform: translateY(0);
        }
        .btn-3d:active {
            border-bottom-width: 0px;
            transform: translateY(4px);
        }

        /* === KEREN: NEON SCROLLBAR === */
        ::-webkit-scrollbar { 
            width: 10px; 
            height: 10px;
        }
        ::-webkit-scrollbar-track { 
            background: #020617; 
            border-left: 1px solid rgba(255, 255, 255, 0.05);
        }
        ::-webkit-scrollbar-thumb { 
            background: linear-gradient(45deg, #00f3ff, #00bcd4); /* Gradasi Cyan */
            border-radius: 5px; 
            border: 2px solid #020617; /* Memberi efek jarak dari track */
        }
        ::-webkit-scrollbar-thumb:hover { 
            background: linear-gradient(45deg, #d946ef, #00f3ff); /* Gradasi Pink ke Cyan saat di-hover */
            box-shadow: 0 0 10px #00f3ff; /* Efek Glowing */
        }
        
        /* Grid Background */
        .bg-cyber-grid {
            background-image: 
                radial-gradient(circle at 50% 50%, rgba(0, 243, 255, 0.05) 0%, transparent 50%),
                linear-gradient(rgba(255, 255, 255, 0.03) 1px, transparent 1px),
                linear-gradient(90deg, rgba(255, 255, 255, 0.03) 1px, transparent 1px);
            background-size: 100% 100%, 50px 50px, 50px 50px;
        }
    </style>
</head>
<body class="bg-dark-bg text-white font-sans overflow-hidden h-screen flex selection:bg-brand-primary selection:text-black">

    <!-- 1. LANDING PAGE -->
    <div id="landingPage" class="fixed inset-0 z-50 bg-dark-bg flex flex-col overflow-y-auto scroll-smooth bg-cyber-grid">
        <!-- Navbar -->
        <header class="w-full sticky top-0 z-50 glass-panel border-b border-white/5 !bg-opacity-80">
            <div class="max-w-7xl mx-auto p-4 md:px-8 flex justify-between items-center">
                <h1 class="text-3xl font-black tracking-tight flex items-center gap-2 cursor-pointer" onclick="location.reload()">
                    <i class="fa-solid fa-code text-brand-primary"></i> <span class="text-white">Code</span><span class="text-brand-primary">Lingo</span>
                </h1>
                <div class="hidden md:flex items-center gap-4">
                    <button onclick="goToLogin()" class="font-bold text-slate-400 hover:text-white uppercase text-sm px-4 py-2 hover:bg-white/5 rounded-lg transition tracking-widest">Masuk</button>
                    <button onclick="goToLogin()" class="px-6 py-2.5 rounded-xl bg-white text-dark-bg font-extrabold uppercase text-sm btn-3d border-b-slate-300 hover:bg-slate-100">Daftar Gratis</button>
                </div>
            </div>
        </header>

        <!-- Hero -->
        <section class="py-24 px-6 min-h-[85vh] flex items-center relative overflow-hidden">
            <div class="absolute top-1/4 left-1/4 w-96 h-96 bg-brand-primary/20 rounded-full blur-[120px] -z-10 animate-pulse-glow"></div>
            <div class="absolute bottom-1/4 right-1/4 w-80 h-80 bg-brand-accent/20 rounded-full blur-[120px] -z-10 animate-pulse-glow" style="animation-delay: 2s;"></div>

            <div class="max-w-6xl mx-auto flex flex-col md:flex-row items-center gap-20 relative z-10">
                <div class="flex-1 flex justify-center order-2 md:order-1">
                    <div class="relative w-80 h-80 flex items-center justify-center animate-float">
                        <div class="absolute inset-0 border border-brand-primary/30 rounded-full animate-[spin_20s_linear_infinite]"></div>
                        <div class="absolute inset-4 border border-brand-accent/30 rounded-full animate-[spin_15s_linear_infinite_reverse]"></div>
                        <i class="fa-solid fa-robot text-[10rem] text-white drop-shadow-[0_0_50px_rgba(0,243,255,0.6)]"></i>
                        <div class="absolute -top-4 right-0 glass-card p-4 rounded-2xl animate-bounce" style="animation-duration: 3s;"><i class="fa-brands fa-python text-4xl text-yellow-400"></i></div>
                        <div class="absolute bottom-8 -left-8 glass-card p-4 rounded-2xl animate-bounce" style="animation-duration: 4s;"><i class="fa-solid fa-database text-4xl text-brand-accent"></i></div>
                    </div>
                </div>
                <div class="flex-1 text-center md:text-left order-1 md:order-2">
                    <h1 class="text-5xl md:text-7xl font-black mb-8 leading-tight text-white tracking-tight">
                        <span class="text-transparent bg-clip-text bg-gradient-to-r from-brand-primary to-brand-accent">Belajar Informatika</span> dengan Cara Seru.
                    </h1>
                    <p class="text-slate-400 text-lg mb-10 leading-relaxed max-w-lg">
                        Bangun karir di dunia teknologi dengan kurikulum gamifikasi. Gratis selamanya, untuk semua orang.
                    </p>
                    <div class="flex flex-col gap-4 max-w-md mx-auto md:mx-0">
                        <button onclick="goToLogin()" class="w-full py-4 rounded-2xl bg-brand-primary text-slate-900 font-black text-lg uppercase btn-3d border-b-brand-dark hover:brightness-110 shadow-[0_0_40px_rgba(0,243,255,0.4)] tracking-widest">Mulai Sekarang</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Roadmap -->
        <section class="py-24 px-6 border-t border-white/5 bg-dark-bg/30 relative z-10">
            <div class="max-w-6xl mx-auto">
                <div class="text-center mb-20">
                    <h2 class="text-4xl font-black mb-4 text-white">Step by Step</h2>
                    <p class="text-slate-400">Kurikulum terstruktur untuk membimbingmu dari nol hingga kerja.</p>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
                    <div class="glass-card p-8 rounded-3xl group relative overflow-hidden">
                        <div class="absolute top-0 right-0 p-4 text-8xl font-black text-white/5 -rotate-12 group-hover:text-brand-accent/10 transition">1</div>
                        <div class="w-14 h-14 bg-brand-accent/20 rounded-2xl flex items-center justify-center text-brand-accent text-2xl mb-6"><i class="fa-solid fa-code"></i></div>
                        <h3 class="text-xl font-bold mb-2 text-white">Dasar Web</h3>
                        <p class="text-sm text-slate-400 leading-relaxed">HTML5 & CSS3 Mastery. Membangun fondasi tampilan website.</p>
                    </div>
                    <div class="glass-card p-8 rounded-3xl group relative overflow-hidden">
                        <div class="absolute top-0 right-0 p-4 text-8xl font-black text-white/5 -rotate-12 group-hover:text-brand-primary/10 transition">2</div>
                        <div class="w-14 h-14 bg-brand-primary/20 rounded-2xl flex items-center justify-center text-brand-primary text-2xl mb-6"><i class="fa-solid fa-brain"></i></div>
                        <h3 class="text-xl font-bold mb-2 text-white">Logika Program</h3>
                        <p class="text-sm text-slate-400 leading-relaxed">JavaScript Modern (ES6+). Membuat website interaktif.</p>
                    </div>
                    <div class="glass-card p-8 rounded-3xl group relative overflow-hidden">
                        <div class="absolute top-0 right-0 p-4 text-8xl font-black text-white/5 -rotate-12 group-hover:text-brand-success/10 transition">3</div>
                        <div class="w-14 h-14 bg-brand-success/20 rounded-2xl flex items-center justify-center text-brand-success text-2xl mb-6"><i class="fa-brands fa-react"></i></div>
                        <h3 class="text-xl font-bold mb-2 text-white">Frontend Modern</h3>
                        <p class="text-sm text-slate-400 leading-relaxed">React.js & State Management. Membangun SPA yang cepat.</p>
                    </div>
                    <div class="glass-card p-8 rounded-3xl group relative overflow-hidden">
                        <div class="absolute top-0 right-0 p-4 text-8xl font-black text-white/5 -rotate-12 group-hover:text-brand-warning/10 transition">4</div>
                        <div class="w-14 h-14 bg-brand-warning/20 rounded-2xl flex items-center justify-center text-brand-warning text-2xl mb-6"><i class="fa-solid fa-server"></i></div>
                        <h3 class="text-xl font-bold mb-2 text-white">Backend & API</h3>
                        <p class="text-sm text-slate-400 leading-relaxed">Node.js & Database. Mengelola data dan server.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Testimonials -->
        <section class="py-24 px-6 relative z-10 border-t border-white/5 bg-gradient-to-b from-dark-bg/0 to-dark-bg">
            <div class="max-w-6xl mx-auto">
                <div class="text-center mb-20">
                    <h2 class="text-4xl font-black mb-4 text-white">Reviewer</h2>
                    <p class="text-slate-400">Apa kata mereka tentang CodeLingo?</p>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                    <div class="glass-card p-8 rounded-3xl border-t-4 border-t-brand-accent">
                        <p class="text-slate-300 mb-8 italic leading-relaxed">"Metode belajarnya sangat modern dan cepat! Infrastruktur kodingnya mantap, tidak terasa sulit tapi kemampuan bertambah pesat."</p>
                        <div class="flex items-center gap-4">
                            <div class="w-12 h-12 rounded-full bg-slate-700 flex items-center justify-center font-bold text-white border-2 border-brand-accent">J</div>
                            <div>
                                <div class="font-bold text-white">Jokowi</div>
                                <div class="text-xs text-brand-accent font-bold tracking-wider">TECH ENTHUSIAST</div>
                            </div>
                        </div>
                    </div>
                    <div class="glass-card p-8 rounded-3xl border-t-4 border-t-brand-primary transform md:-translate-y-4">
                        <p class="text-slate-300 mb-8 italic leading-relaxed">"Kita harus berani belajar teknologi! Aplikasi ini tegas membimbing dari nol sampai mahir membuat web. Luar biasa!"</p>
                        <div class="flex items-center gap-4">
                            <div class="w-12 h-12 rounded-full bg-slate-700 flex items-center justify-center font-bold text-white border-2 border-brand-primary">P</div>
                            <div>
                                <div class="font-bold text-white">Prabowo</div>
                                <div class="text-xs text-brand-primary font-bold tracking-wider">STRATEGIST</div>
                            </div>
                        </div>
                    </div>
                    <div class="glass-card p-8 rounded-3xl border-t-4 border-t-brand-success">
                        <p class="text-slate-300 mb-8 italic leading-relaxed">"Sat set sat set belajarnya! Tiap level rasanya puas banget. Sangat recommended buat anak muda yang mau cepat bisa coding."</p>
                        <div class="flex items-center gap-4">
                            <div class="w-12 h-12 rounded-full bg-slate-700 flex items-center justify-center font-bold text-white border-2 border-brand-success">G</div>
                            <div>
                                <div class="font-bold text-white">Ganjar</div>
                                <div class="text-xs text-brand-success font-bold tracking-wider">DIGITAL CREATOR</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Footer -->
        <footer class="glass-panel py-12 px-6 border-t border-white/5 text-center relative z-10">
            <div class="font-black text-2xl text-white mb-2 tracking-tight">CodeLingo</div>
            <p class="text-slate-500 text-sm mb-8">&copy; 2025 Future of Coding.</p>
            
            <div class="inline-block border border-white/10 rounded-2xl p-6 bg-white/5 backdrop-blur-md hover:bg-white/10 transition cursor-default">
                <p class="text-brand-primary font-bold text-xs tracking-[0.2em] uppercase mb-2">SYSTEM CREATOR</p>
                <p class="text-white font-black text-lg tracking-wide">Zanjabiela Adil Perkasa</p>
                <p class="text-slate-400 text-xs font-mono mt-1 opacity-70">NIM: K3523079</p>
            </div>
        </footer>
    </div>

    <!-- 2. LOGIN PAGE -->
    <div id="loginPage" class="fixed inset-0 z-50 bg-dark-bg hidden flex-col items-center justify-center p-4 bg-cyber-grid">
        <div class="w-full max-w-md glass-card p-10 rounded-[2rem] shadow-2xl relative border border-white/10">
            <button onclick="backToLanding()" class="absolute top-8 left-8 text-slate-400 hover:text-white transition"><i class="fa-solid fa-arrow-left text-xl"></i></button>
            <div class="text-center mb-10">
                <div class="w-24 h-24 bg-brand-primary/10 rounded-full flex items-center justify-center mx-auto mb-6 border border-brand-primary/30 shadow-[0_0_30px_rgba(0,243,255,0.2)]">
                    <i class="fa-solid fa-robot text-5xl text-brand-primary"></i>
                </div>
                <h2 class="text-3xl font-black text-white mb-2">Selamat Datang</h2>
                <p class="text-slate-400 text-sm">Masuk untuk melanjutkan progresmu.</p>
            </div>
            <form onsubmit="handleLogin(event)" class="space-y-6">
                <div class="space-y-2">
                    <label class="text-xs font-bold text-brand-primary tracking-widest uppercase ml-1">Email</label>
                    <input type="email" id="emailInput" required placeholder="nama@email.com" class="w-full bg-dark-bg/60 border border-white/10 rounded-xl p-4 text-white focus:border-brand-primary focus:ring-1 focus:ring-brand-primary outline-none transition font-mono text-sm placeholder-slate-600">
                </div>
                <div class="space-y-2">
                    <label class="text-xs font-bold text-brand-primary tracking-widest uppercase ml-1">Password</label>
                    <input type="password" required placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢" class="w-full bg-dark-bg/60 border border-white/10 rounded-xl p-4 text-white focus:border-brand-primary focus:ring-1 focus:ring-brand-primary outline-none transition placeholder-slate-600">
                </div>
                <button type="submit" class="w-full py-4 rounded-xl bg-brand-primary text-slate-900 font-black text-lg uppercase tracking-widest btn-3d border-b-brand-dark hover:brightness-110 shadow-lg mt-4">Masuk</button>
            </form>

            <div class="mt-8 pt-6 border-t border-white/5 text-center">
                <p class="text-brand-primary font-bold text-[10px] tracking-[0.2em] uppercase mb-1">SYSTEM CREATOR</p>
                <p class="text-white font-bold text-sm">Zanjabiela Adil Perkasa</p>
                <p class="text-slate-500 text-[10px] font-mono">NIM: K3523079</p>
            </div>
        </div>
    </div>

    <!-- 3. DASHBOARD (MAIN APP) -->
    <div id="appContainer" class="hidden flex h-full w-full bg-cyber-grid">
        <!-- Sidebar -->
        <nav class="hidden md:flex flex-col w-72 glass-panel p-6 h-full z-20 shrink-0">
            <div class="mb-10 px-2">
                <h1 class="text-2xl font-black tracking-tighter cursor-pointer flex items-center gap-2" onclick="switchPage('learn')">
                    <i class="fa-solid fa-code text-brand-primary"></i> <span class="text-white">Code</span><span class="text-brand-primary">Lingo</span>
                </h1>
            </div>
            <ul class="space-y-3 flex-1">
                <!-- MENU DASHBOARD -->
                <li><button onclick="switchPage('dashboard')" id="nav-dashboard" class="nav-item w-full flex items-center gap-4 px-4 py-3.5 rounded-xl font-bold transition hover:bg-white/5 text-slate-400 border border-transparent"><i class="fa-solid fa-house text-xl w-6"></i><span>Dashboard</span></button></li>
                
                <li><button onclick="switchPage('learn')" id="nav-learn" class="nav-item w-full flex items-center gap-4 px-4 py-3.5 rounded-xl font-bold transition hover:bg-white/5 text-slate-400 border border-transparent"><i class="fa-solid fa-book text-xl w-6"></i><span>Belajar</span></button></li>
                
                <li><a href="main.html" class="nav-item w-full flex items-center gap-4 px-4 py-3.5 rounded-xl font-bold transition hover:bg-white/5 text-slate-400 hover:text-brand-primary border border-transparent"><i class="fa-solid fa-gamepad text-xl w-6"></i><span>Bermain</span></a></li>
                
                <li><button onclick="switchPage('leaderboard')" id="nav-leaderboard" class="nav-item w-full flex items-center gap-4 px-4 py-3.5 rounded-xl font-bold transition hover:bg-white/5 text-slate-400 border border-transparent"><i class="fa-solid fa-trophy text-xl w-6"></i><span>Peringkat</span></button></li>
                <li><button onclick="switchPage('shop')" id="nav-shop" class="nav-item w-full flex items-center gap-4 px-4 py-3.5 rounded-xl font-bold transition hover:bg-white/5 text-slate-400 border border-transparent"><i class="fa-solid fa-store text-xl w-6"></i><span>Toko</span></button></li>
                <li><button onclick="switchPage('profile')" id="nav-profile" class="nav-item w-full flex items-center gap-4 px-4 py-3.5 rounded-xl font-bold transition hover:bg-white/5 text-slate-400 border border-transparent"><i class="fa-solid fa-user text-xl w-6"></i><span>Profil</span></button></li>
            </ul>
            <button onclick="logout()" class="w-full flex items-center gap-4 px-4 py-3.5 rounded-xl font-bold transition hover:bg-brand-danger/10 text-brand-danger border border-transparent hover:border-brand-danger/30"><i class="fa-solid fa-right-from-bracket text-xl w-6"></i><span>Keluar</span></button>
        </nav>

        <!-- Content -->
        <main class="flex-1 h-full overflow-y-auto relative scroll-smooth p-0 md:p-0" id="mainContent">
            <!-- Mobile Header -->
            <div class="md:hidden sticky top-0 glass-panel p-4 flex justify-between items-center z-30">
                <i class="fa-solid fa-code text-brand-primary text-xl"></i>
                <div class="flex gap-4 font-bold text-sm">
                    <span class="text-brand-warning bg-dark-bg/50 px-3 py-1 rounded-full border border-white/10"><i class="fa-solid fa-bolt mr-1"></i> <span id="mobile-xp">0</span></span>
                    <span class="text-brand-primary bg-dark-bg/50 px-3 py-1 rounded-full border border-white/10"><i class="fa-solid fa-gem mr-1"></i> <span id="mobile-gems">0</span></span>
                </div>
            </div>

            <!-- Page: Dashboard (New) -->
            <div id="page-dashboard" class="page-section hidden pb-40">
                <div class="max-w-4xl mx-auto py-10 px-6">
                    <!-- Welcome Hero -->
                    <div class="glass-card rounded-3xl p-8 mb-8 relative overflow-hidden flex flex-col md:flex-row items-center gap-8 border border-brand-primary/20">
                        <div class="absolute inset-0 bg-gradient-to-r from-brand-primary/10 to-transparent"></div>
                        <div class="relative z-10 flex-1 text-center md:text-left">
                            <h2 class="text-3xl md:text-4xl font-black text-white mb-2">Halo, <span id="dash-name" class="text-brand-primary">Coder</span>! ðŸ‘‹</h2>
                            <p class="text-slate-400 mb-6">Siap melanjutkan petualangan kodingmu hari ini?</p>
                            <button onclick="switchPage('learn')" class="px-6 py-3 rounded-xl bg-brand-primary text-dark-bg font-black uppercase tracking-widest text-sm btn-3d border-b-brand-dark hover:brightness-110 shadow-lg">Lanjut Belajar</button>
                        </div>
                        <div class="relative z-10">
                            <div class="w-32 h-32 rounded-full bg-dark-bg/50 border-4 border-white/10 flex items-center justify-center relative animate-pulse-glow">
                                <i class="fa-solid fa-rocket text-6xl text-brand-accent"></i>
                            </div>
                        </div>
                    </div>

                    <!-- Materi Modules Grid -->
                    <h3 class="text-lg font-black text-white mb-4 flex items-center gap-2"><i class="fa-solid fa-layer-group text-brand-accent"></i> Modul Pembelajaran</h3>
                    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-8">
                        <!-- Module 1: Jaringan -->
                        <div class="glass-card p-6 rounded-2xl border border-white/5 hover:border-brand-primary/50 transition cursor-pointer group flex flex-col items-center text-center">
                            <div class="w-16 h-16 rounded-2xl bg-brand-primary/10 flex items-center justify-center text-3xl text-brand-primary mb-4 group-hover:scale-110 transition shadow-[0_0_15px_rgba(0,243,255,0.2)]">
                                <i class="fa-solid fa-network-wired"></i>
                            </div>
                            <h4 class="font-bold text-white text-md mb-1">Jaringan</h4>
                            <p class="text-xs text-slate-400 mb-4">Networking Basics.</p>
                            <button onclick="openMateri('jaringan')" class="w-full py-2 rounded-lg bg-white/5 hover:bg-brand-primary hover:text-dark-bg text-brand-primary font-bold text-xs border border-brand-primary/30 transition">PELAJARI</button>
                        </div>
                        <!-- Module 2: Algoritma -->
                        <div class="glass-card p-6 rounded-2xl border border-white/5 hover:border-brand-warning/50 transition cursor-pointer group flex flex-col items-center text-center">
                            <div class="w-16 h-16 rounded-2xl bg-brand-warning/10 flex items-center justify-center text-3xl text-brand-warning mb-4 group-hover:scale-110 transition shadow-[0_0_15px_rgba(251,191,36,0.2)]">
                                <i class="fa-solid fa-code"></i>
                            </div>
                            <h4 class="font-bold text-white text-md mb-1">Algoritma</h4>
                            <p class="text-xs text-slate-400 mb-4">Logic & Flow.</p>
                            <button onclick="openMateri('algoritma')" class="w-full py-2 rounded-lg bg-white/5 hover:bg-brand-warning hover:text-dark-bg text-brand-warning font-bold text-xs border border-brand-warning/30 transition">PELAJARI</button>
                        </div>
                        <!-- Module 3: Multimedia -->
                        <div class="glass-card p-6 rounded-2xl border border-white/5 hover:border-brand-accent/50 transition cursor-pointer group flex flex-col items-center text-center">
                            <div class="w-16 h-16 rounded-2xl bg-brand-accent/10 flex items-center justify-center text-3xl text-brand-accent mb-4 group-hover:scale-110 transition shadow-[0_0_15px_rgba(217,70,239,0.2)]">
                                <i class="fa-solid fa-photo-film"></i>
                            </div>
                            <h4 class="font-bold text-white text-md mb-1">Multimedia</h4>
                            <p class="text-xs text-slate-400 mb-4">Digital Media.</p>
                            <button onclick="openMateri('multimedia')" class="w-full py-2 rounded-lg bg-white/5 hover:bg-brand-accent hover:text-dark-bg text-brand-accent font-bold text-xs border border-brand-accent/30 transition">PELAJARI</button>
                        </div>
                        <!-- Module 4: AI & Data -->
                        <div class="glass-card p-6 rounded-2xl border border-white/5 hover:border-brand-success/50 transition cursor-pointer group flex flex-col items-center text-center">
                            <div class="w-16 h-16 rounded-2xl bg-brand-success/10 flex items-center justify-center text-3xl text-brand-success mb-4 group-hover:scale-110 transition shadow-[0_0_15px_rgba(0,255,163,0.2)]">
                                <i class="fa-solid fa-brain"></i>
                            </div>
                            <h4 class="font-bold text-white text-md mb-1">AI & Data</h4>
                            <p class="text-xs text-slate-400 mb-4">Artificial Intelligence.</p>
                            <button onclick="openMateri('ai')" class="w-full py-2 rounded-lg bg-white/5 hover:bg-brand-success hover:text-dark-bg text-brand-success font-bold text-xs border border-brand-success/30 transition">PELAJARI</button>
                        </div>
                    </div>

                    <!-- Quick Actions -->
                    <h3 class="text-lg font-black text-white mb-4 flex items-center gap-2"><i class="fa-solid fa-bolt text-brand-warning"></i> Akses Cepat</h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div onclick="window.location.href='main.html'" class="glass-card p-6 rounded-2xl border border-white/5 hover:border-white/20 transition cursor-pointer flex items-center gap-4 group">
                            <div class="w-12 h-12 rounded-xl bg-brand-accent/20 flex items-center justify-center text-brand-accent text-xl group-hover:scale-110 transition"><i class="fa-solid fa-gamepad"></i></div>
                            <div>
                                <h4 class="font-bold text-white">Main Game</h4>
                                <p class="text-xs text-slate-400">Asah logika dengan mini-games seru.</p>
                            </div>
                            <i class="fa-solid fa-chevron-right text-slate-600 ml-auto group-hover:text-white transition"></i>
                        </div>
                        <div onclick="switchPage('shop')" class="glass-card p-6 rounded-2xl border border-white/5 hover:border-white/20 transition cursor-pointer flex items-center gap-4 group">
                            <div class="w-12 h-12 rounded-xl bg-brand-primary/20 flex items-center justify-center text-brand-primary text-xl group-hover:scale-110 transition"><i class="fa-solid fa-store"></i></div>
                            <div>
                                <h4 class="font-bold text-white">Buka Toko</h4>
                                <p class="text-xs text-slate-400">Tukarkan gems dengan item keren.</p>
                            </div>
                            <i class="fa-solid fa-chevron-right text-slate-600 ml-auto group-hover:text-white transition"></i>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Page: Learn -->
            <div id="page-learn" class="page-section hidden pb-40">
                <div class="max-w-2xl mx-auto py-10 px-6">
                    <!-- Dynamic Learning Path -->
                    <div id="learningPath" class="flex flex-col items-center gap-10 relative">
                        <!-- Content generated by JS -->
                    </div>
                </div>
            </div>

            <!-- Page: Leaderboard -->
            <div id="page-leaderboard" class="page-section hidden py-10 px-4 pb-40">
                <div class="max-w-2xl mx-auto">
                    <div class="text-center mb-10">
                        <img src="https://d35aaqx5ub95lt.cloudfront.net/images/leagues/d4280fdf64d66de7390fe84802432a53.svg" class="w-32 mx-auto mb-6 drop-shadow-[0_0_30px_rgba(251,191,36,0.4)] animate-float">
                        <h2 class="text-4xl font-black text-brand-warning tracking-tight">Liga Diamond</h2>
                        <p class="text-slate-400 text-sm mt-2">7 hari tersisa. 10 teratas naik divisi.</p>
                    </div>
                    <div class="glass-card rounded-3xl overflow-hidden border border-white/10" id="leaderboard-container"></div>
                </div>
            </div>

            <!-- Page: Shop -->
            <div id="page-shop" class="page-section hidden py-10 px-4 pb-40">
                <div class="max-w-2xl mx-auto">
                    <div class="mb-10 glass-card p-8 rounded-[2rem] flex justify-between items-center border border-brand-accent/30 relative overflow-hidden bg-gradient-to-r from-purple-900/50 to-blue-900/50">
                        <div class="relative z-10">
                            <h2 class="text-3xl font-black text-white italic tracking-tighter">BLACK MARKET</h2>
                            <p class="text-brand-primary font-bold mt-1 text-lg">Saldo: <span id="shop-gems">0</span> ðŸ’Ž</p>
                        </div>
                        <i class="fa-solid fa-cart-shopping text-9xl text-white/5 absolute -right-6 -bottom-6 -rotate-12"></i>
                    </div>
                    
                    <h3 class="font-black text-slate-300 mb-6 uppercase text-sm tracking-[0.2em]">Katalog Spesial</h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <!-- Item 1 -->
                        <div class="glass-card p-5 rounded-2xl flex items-center gap-5 hover:border-brand-primary transition cursor-pointer group">
                            <div class="w-16 h-16 rounded-xl bg-brand-primary/10 flex items-center justify-center text-3xl text-brand-primary group-hover:scale-110 transition"><i class="fa-solid fa-shield-halved"></i></div>
                            <div class="flex-1">
                                <h4 class="font-bold text-white text-lg">Streak Freeze</h4>
                                <p class="text-xs text-slate-400 mt-1">Lindungi streakmu 1 hari.</p>
                            </div>
                            <button onclick="buyItem(this, 200)" class="px-5 py-2.5 rounded-xl bg-dark-bg/80 font-bold text-brand-primary text-sm border border-brand-primary/30 hover:bg-brand-primary hover:text-slate-900 transition shadow-lg">200 ðŸ’Ž</button>
                        </div>
                        
                        <!-- Item 2 -->
                        <div class="glass-card p-5 rounded-2xl flex items-center gap-5 hover:border-brand-warning transition cursor-pointer group">
                            <div class="w-16 h-16 rounded-xl bg-brand-warning/10 flex items-center justify-center text-3xl text-brand-warning group-hover:scale-110 transition"><i class="fa-solid fa-bolt"></i></div>
                            <div class="flex-1">
                                <h4 class="font-bold text-white text-lg">Double XP</h4>
                                <p class="text-xs text-slate-400 mt-1">2x XP selama 30 menit.</p>
                            </div>
                            <button onclick="buyItem(this, 300)" class="px-5 py-2.5 rounded-xl bg-dark-bg/80 font-bold text-brand-warning text-sm border border-brand-warning/30 hover:bg-brand-warning hover:text-slate-900 transition shadow-lg">300 ðŸ’Ž</button>
                        </div>

                        <!-- Item 3 -->
                        <div class="glass-card p-5 rounded-2xl flex items-center gap-5 hover:border-brand-accent transition cursor-pointer group">
                            <div class="w-16 h-16 rounded-xl bg-brand-accent/10 flex items-center justify-center text-3xl text-brand-accent group-hover:scale-110 transition"><i class="fa-solid fa-user-astronaut"></i></div>
                            <div class="flex-1">
                                <h4 class="font-bold text-white text-lg">Bingkai Neon</h4>
                                <p class="text-xs text-slate-400 mt-1">Hiasan avatar profil keren.</p>
                            </div>
                            <button onclick="buyItem(this, 500)" class="px-5 py-2.5 rounded-xl bg-dark-bg/80 font-bold text-brand-accent text-sm border border-brand-accent/30 hover:bg-brand-accent hover:text-slate-900 transition shadow-lg">500 ðŸ’Ž</button>
                        </div>

                        <!-- Item 4 -->
                        <div class="glass-card p-5 rounded-2xl flex items-center gap-5 hover:border-brand-success transition cursor-pointer group">
                            <div class="w-16 h-16 rounded-xl bg-brand-success/10 flex items-center justify-center text-3xl text-brand-success group-hover:scale-110 transition"><i class="fa-solid fa-terminal"></i></div>
                            <div class="flex-1">
                                <h4 class="font-bold text-white text-lg">Tema Matrix</h4>
                                <p class="text-xs text-slate-400 mt-1">Ubah tampilan IDE jadi hijau.</p>
                            </div>
                            <button onclick="buyItem(this, 1000)" class="px-5 py-2.5 rounded-xl bg-dark-bg/80 font-bold text-brand-success text-sm border border-brand-success/30 hover:bg-brand-success hover:text-slate-900 transition shadow-lg">1000 ðŸ’Ž</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Page: Profile -->
            <div id="page-profile" class="page-section hidden py-10 px-4 pb-40">
                <div class="max-w-2xl mx-auto">
                    <!-- PROFILE CARD HOLOGRAM STYLE -->
                    <div class="glass-card rounded-[2.5rem] p-10 mb-8 relative overflow-hidden border border-brand-primary/20 bg-dark-bg/30">
                        <!-- Holographic Background Elements -->
                        <div class="absolute top-0 right-0 w-[500px] h-[500px] bg-brand-primary/10 rounded-full blur-[100px] -z-10 animate-pulse-glow"></div>
                        <div class="absolute bottom-0 left-0 w-[300px] h-[300px] bg-brand-accent/10 rounded-full blur-[80px] -z-10 animate-float"></div>
                        
                        <!-- Grid Overlay -->
                        <div class="absolute inset-0 bg-cyber-grid opacity-20 pointer-events-none"></div>

                        <!-- Header Profile -->
                        <div class="flex flex-col md:flex-row items-center gap-10 relative z-10 mb-12">
                            <!-- Avatar with Neon Ring -->
                            <div class="relative group cursor-pointer" onclick="toggleEditProfile()">
                                <div class="absolute inset-0 rounded-full bg-gradient-to-tr from-brand-primary to-brand-accent blur-md opacity-70 group-hover:opacity-100 transition duration-500"></div>
                                <div class="relative w-32 h-32 rounded-full bg-dark-card flex items-center justify-center border-2 border-white/20 shadow-2xl z-10 overflow-hidden group-hover:border-brand-primary transition">
                                    <!-- AVATAR GAMBAR (DiceBear API) -->
                                    <img id="profile-avatar" src="https://api.dicebear.com/7.x/avataaars/svg?seed=Felix" alt="Avatar" class="w-full h-full object-cover">
                                </div>
                                <div class="absolute -bottom-2 -right-2 bg-brand-success text-dark-bg text-xs font-bold px-3 py-1 rounded-full border border-white/20 shadow-lg z-20">ONLINE</div>
                            </div>
                            
                            <!-- User Info -->
                            <div class="text-center md:text-left flex-1">
                                <h2 id="profile-name" class="text-5xl font-black text-white tracking-tight mb-2 drop-shadow-[0_0_10px_rgba(255,255,255,0.3)]">User</h2>
                                <div class="flex flex-wrap gap-3 justify-center md:justify-start">
                                    <span id="profile-username" class="text-brand-primary text-sm font-mono bg-brand-primary/10 px-4 py-1.5 rounded-lg border border-brand-primary/20">@new_coder_2025</span>
                                    <span class="text-slate-400 text-sm font-mono bg-white/5 px-4 py-1.5 rounded-lg border border-white/10">Bergabung: 2025</span>
                                </div>
                            </div>
                            
                            <!-- Edit Button -->
                            <button onclick="toggleEditProfile()" class="px-6 py-2 rounded-xl border border-white/10 bg-white/5 hover:bg-brand-primary hover:text-dark-bg hover:border-brand-primary text-white font-bold text-sm transition shadow-lg flex items-center gap-2">
                                <i class="fa-solid fa-pen"></i> Edit Profil
                            </button>
                        </div>
                        
                        <!-- EDIT FORM (Hidden by default) -->
                        <div id="edit-profile-form" class="hidden mb-8 p-6 bg-dark-bg/60 rounded-2xl border border-white/10 backdrop-blur-md">
                            <h3 class="text-xl font-bold text-white mb-4">Edit Profil</h3>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                                <div>
                                    <label class="text-xs text-slate-400 uppercase font-bold mb-1 block">Nama Tampilan</label>
                                    <input type="text" id="edit-name" class="w-full bg-dark-bg/50 border border-white/10 rounded-xl p-3 text-white focus:border-brand-primary outline-none" placeholder="Nama Baru">
                                </div>
                                <div>
                                    <label class="text-xs text-slate-400 uppercase font-bold mb-1 block">Username</label>
                                    <input type="text" id="edit-username" class="w-full bg-dark-bg/50 border border-white/10 rounded-xl p-3 text-white focus:border-brand-primary outline-none" placeholder="@username_baru">
                                </div>
                            </div>
                            <div class="flex justify-end gap-3">
                                <button onclick="toggleEditProfile()" class="px-4 py-2 rounded-xl text-slate-400 hover:text-white transition">Batal</button>
                                <button onclick="saveProfile()" class="px-6 py-2 rounded-xl bg-brand-primary text-dark-bg font-bold hover:brightness-110 transition shadow-lg">Simpan</button>
                            </div>
                        </div>
                        
                        <!-- Stats Grid -->
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-6 pt-8 border-t border-white/10">
                            <!-- XP Stat -->
                            <div class="bg-dark-bg/40 p-6 rounded-2xl border border-white/5 relative group hover:border-brand-warning/30 transition overflow-hidden">
                                <div class="absolute top-0 right-0 p-3 opacity-10 group-hover:opacity-20 transition"><i class="fa-solid fa-bolt text-6xl text-brand-warning"></i></div>
                                <div class="text-xs text-slate-400 uppercase font-black tracking-[0.2em] mb-2">TOTAL XP</div>
                                <div id="profile-total-xp" class="text-4xl font-black text-white mb-2">0</div>
                                <div class="w-full h-1.5 bg-slate-700 rounded-full overflow-hidden">
                                    <div class="h-full bg-brand-warning w-[45%]"></div>
                                </div>
                                <p class="text-[10px] text-slate-500 mt-2 text-right">450 XP to Level Up</p>
                            </div>

                            <!-- League Stat -->
                            <div class="bg-dark-bg/40 p-6 rounded-2xl border border-white/5 relative group hover:border-brand-accent/30 transition overflow-hidden">
                                <div class="absolute top-0 right-0 p-3 opacity-10 group-hover:opacity-20 transition"><i class="fa-solid fa-trophy text-6xl text-brand-accent"></i></div>
                                <div class="text-xs text-slate-400 uppercase font-black tracking-[0.2em] mb-2">DIVISI LIGA</div>
                                <div class="text-4xl font-black text-brand-accent mb-1">Iron</div>
                                <p class="text-xs text-slate-400">Top 20% Global</p>
                            </div>

                            <!-- Streak Stat -->
                            <div class="bg-dark-bg/40 p-6 rounded-2xl border border-white/5 relative group hover:border-brand-danger/30 transition overflow-hidden">
                                <div class="absolute top-0 right-0 p-3 opacity-10 group-hover:opacity-20 transition"><i class="fa-solid fa-fire text-6xl text-brand-danger"></i></div>
                                <div class="text-xs text-slate-400 uppercase font-black tracking-[0.2em] mb-2">STREAK HARIAN</div>
                                <div class="text-4xl font-black text-white mb-1">0 <span class="text-lg text-slate-500 font-bold">Hari</span></div>
                                <p class="text-xs text-slate-400">Jaga apimu tetap menyala!</p>
                            </div>
                        </div>
                    </div>

                    <!-- Achievements Section -->
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                        <!-- Badges -->
                        <div class="glass-card rounded-[2rem] p-8 border border-white/10">
                            <h3 class="font-black text-xl text-white mb-6 flex items-center gap-3">
                                <i class="fa-solid fa-medal text-brand-warning"></i> Pencapaian
                            </h3>
                            <div class="grid grid-cols-4 gap-4">
                                <!-- Badge 1 (Active) -->
                                <div class="aspect-square bg-brand-primary/10 rounded-2xl border border-brand-primary/30 flex items-center justify-center text-3xl text-brand-primary shadow-[0_0_15px_rgba(0,243,255,0.2)] cursor-pointer hover:scale-105 transition" title="First Code">
                                    <i class="fa-solid fa-code"></i>
                                </div>
                                <!-- Badge 2 (Locked) -->
                                <div class="aspect-square bg-dark-bg/50 rounded-2xl border border-white/5 flex items-center justify-center text-3xl text-slate-700">
                                    <i class="fa-solid fa-fire"></i>
                                </div>
                                <!-- Badge 3 (Locked) -->
                                <div class="aspect-square bg-dark-bg/50 rounded-2xl border border-white/5 flex items-center justify-center text-3xl text-slate-700">
                                    <i class="fa-solid fa-brain"></i>
                                </div>
                                <!-- Badge 4 (Locked) -->
                                <div class="aspect-square bg-dark-bg/50 rounded-2xl border border-white/5 flex items-center justify-center text-3xl text-slate-700">
                                    <i class="fa-solid fa-rocket"></i>
                                </div>
                            </div>
                        </div>

                        <!-- Activity Graph (Dummy Visual) -->
                        <div class="glass-card rounded-[2rem] p-8 border border-white/10 flex flex-col justify-between">
                            <h3 class="font-black text-xl text-white mb-6 flex items-center gap-3">
                                <i class="fa-solid fa-chart-simple text-brand-success"></i> Aktivitas
                            </h3>
                            <div class="flex items-end justify-between h-32 gap-2">
                                <div class="w-full bg-brand-primary/20 rounded-t-lg h-[30%] relative group"><div class="absolute -top-8 left-1/2 -translate-x-1/2 bg-dark-bg px-2 py-1 rounded text-xs opacity-0 group-hover:opacity-100 transition">Sen</div></div>
                                <div class="w-full bg-brand-primary/40 rounded-t-lg h-[50%] relative group"><div class="absolute -top-8 left-1/2 -translate-x-1/2 bg-dark-bg px-2 py-1 rounded text-xs opacity-0 group-hover:opacity-100 transition">Sel</div></div>
                                <div class="w-full bg-brand-primary/60 rounded-t-lg h-[80%] relative group"><div class="absolute -top-8 left-1/2 -translate-x-1/2 bg-dark-bg px-2 py-1 rounded text-xs opacity-0 group-hover:opacity-100 transition">Rab</div></div>
                                <div class="w-full bg-brand-primary/30 rounded-t-lg h-[40%] relative group"><div class="absolute -top-8 left-1/2 -translate-x-1/2 bg-dark-bg px-2 py-1 rounded text-xs opacity-0 group-hover:opacity-100 transition">Kam</div></div>
                                <div class="w-full bg-brand-primary/80 rounded-t-lg h-[90%] relative group"><div class="absolute -top-8 left-1/2 -translate-x-1/2 bg-dark-bg px-2 py-1 rounded text-xs opacity-0 group-hover:opacity-100 transition">Jum</div></div>
                                <div class="w-full bg-brand-primary/20 rounded-t-lg h-[20%] relative group"><div class="absolute -top-8 left-1/2 -translate-x-1/2 bg-dark-bg px-2 py-1 rounded text-xs opacity-0 group-hover:opacity-100 transition">Sab</div></div>
                                <div class="w-full bg-brand-primary/10 rounded-t-lg h-[10%] relative group"><div class="absolute -top-8 left-1/2 -translate-x-1/2 bg-dark-bg px-2 py-1 rounded text-xs opacity-0 group-hover:opacity-100 transition">Min</div></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <!-- Right Sidebar (Desktop) -->
        <aside class="hidden lg:block w-80 glass-panel p-6 z-20 shrink-0">
            <div class="flex justify-between font-bold text-slate-400 bg-dark-bg/60 p-2 rounded-2xl border border-white/5 mb-8 backdrop-blur-sm">
                <div class="flex items-center gap-2 px-3 py-2"><i class="fa-solid fa-fire text-brand-warning"></i> 0</div>
                <div class="flex items-center gap-2 px-3 py-2"><i class="fa-solid fa-gem text-brand-primary"></i> <span id="desktop-gems">0</span></div>
                <div class="flex items-center gap-2 px-3 py-2"><i class="fa-solid fa-heart text-brand-danger"></i> 5</div>
            </div>
            <div class="glass-card p-6 rounded-3xl border border-white/10">
                <h3 class="font-black text-lg mb-6 text-white tracking-tight">Peringkat Kamu</h3>
                <div id="widget-leaderboard-content" class="space-y-4 text-sm">Loading...</div>
                <button onclick="switchPage('leaderboard')" class="w-full mt-6 py-3 rounded-xl border border-brand-primary/30 text-brand-primary font-bold text-xs uppercase tracking-widest hover:bg-brand-primary hover:text-slate-900 transition">Lihat Semua</button>
            </div>
        </aside>
    </div>

    <!-- Mobile Nav -->
    <div id="mobileNav" class="hidden md:hidden fixed bottom-0 w-full glass-panel border-t border-white/10 flex justify-around p-3 z-40 safe-area-pb bg-dark-bg/90 backdrop-blur-xl">
        <button onclick="switchPage('learn')" id="mobile-nav-learn" class="p-3 rounded-xl text-brand-primary"><i class="fa-solid fa-house text-xl"></i></button>
        <a href="main.html" class="p-3 rounded-xl text-slate-500"><i class="fa-solid fa-gamepad text-xl"></i></a>
        <button onclick="switchPage('leaderboard')" id="mobile-nav-leaderboard" class="p-3 rounded-xl text-slate-500"><i class="fa-solid fa-trophy text-xl"></i></button>
        <button onclick="switchPage('shop')" id="mobile-nav-shop" class="p-3 rounded-xl text-slate-500"><i class="fa-solid fa-store text-xl"></i></button>
        <button onclick="switchPage('profile')" id="mobile-nav-profile" class="p-3 rounded-xl text-slate-500"><i class="fa-solid fa-user text-xl"></i></button>
    </div>

    <!-- Materi Modal -->
    <div id="materiModal" class="fixed inset-0 bg-black/90 hidden z-50 items-center justify-center p-4 backdrop-blur-md">
        <div class="glass-card w-full max-w-2xl rounded-3xl border border-white/10 shadow-2xl overflow-hidden flex flex-col max-h-[80vh] bg-[#0f172a]">
            <div class="p-6 border-b border-white/5 flex justify-between items-center bg-dark-bg/50">
                <h3 id="materiTitle" class="text-2xl font-black text-brand-primary uppercase">Materi</h3>
                <button onclick="closeMateri()" class="text-slate-400 hover:text-white"><i class="fa-solid fa-xmark text-2xl"></i></button>
            </div>
            <div class="p-8 overflow-y-auto">
                <div id="materiContent" class="text-slate-300 leading-relaxed space-y-4">
                    <!-- Content Injected Here -->
                </div>
            </div>
            <div class="p-6 border-t border-white/10 bg-dark-bg/50 text-right">
                <button onclick="closeMateri()" class="px-6 py-2 rounded-xl bg-brand-primary text-dark-bg font-bold hover:brightness-110 transition">Tutup</button>
            </div>
        </div>
    </div>

    <!-- Quiz Modal -->
    <div id="lessonModal" class="fixed inset-0 bg-black/90 hidden z-50 items-center justify-center p-4 backdrop-blur-md">
        <div class="glass-card w-full max-w-2xl rounded-3xl border border-white/10 shadow-2xl overflow-hidden flex flex-col max-h-[90vh] bg-[#0f172a]">
            <div class="p-6 flex items-center gap-4 bg-dark-bg/50 border-b border-white/5">
                <button onclick="closeLesson()" class="text-slate-400 hover:text-white transition"><i class="fa-solid fa-xmark text-2xl"></i></button>
                <div class="flex-1 bg-slate-800 h-3 rounded-full overflow-hidden"><div id="progressBar" class="bg-brand-success h-full transition-all w-[10%] shadow-[0_0_10px_#22c55e]"></div></div>
                <div class="text-brand-danger font-bold flex items-center gap-1 text-lg"><i class="fa-solid fa-heart animate-pulse"></i> 5</div>
            </div>
            <div class="flex-1 p-8 overflow-y-auto text-center flex flex-col items-center justify-center bg-dark-bg/30">
                <h2 id="questionText" class="text-2xl md:text-3xl font-black mb-10 text-white leading-tight">...</h2>
                <div class="grid grid-cols-1 gap-4 w-full max-w-lg" id="optionsContainer">
                    <!-- Options injected here -->
                </div>
            </div>
            <div class="p-6 border-t border-white/10 bg-dark-bg/50">
                <div id="feedbackArea" class="hidden mb-4 p-4 rounded-xl font-bold flex items-center gap-3 animate-pulse"></div>
                <button id="checkBtn" onclick="checkAnswer()" class="w-full py-4 rounded-2xl bg-slate-700 text-slate-400 font-black uppercase tracking-widest text-lg btn-3d border-b-slate-800 cursor-not-allowed" disabled>PERIKSA</button>
                <button id="continueBtn" onclick="finishLevel()" class="hidden w-full py-4 rounded-2xl bg-brand-success text-slate-900 font-black uppercase tracking-widest text-lg btn-3d border-b-brand-successDark hover:brightness-110 shadow-[0_0_20px_rgba(34,197,94,0.4)]">LANJUT</button>
            </div>
        </div>
    </div>

    <script>
        // --- DATA MATERI ---
        const materiData = {
            jaringan: {
                title: "Jaringan Komputer",
                content: `
                    <p><strong class="text-brand-warning">Jaringan Komputer</strong> menghubungkan dua atau lebih komputer untuk berbagi data.</p>
                    <ul class="list-disc pl-5 mt-2 space-y-2">
                        <li><strong class="text-brand-primary">IP Address:</strong> Alamat unik perangkat di jaringan.</li>
                        <li><strong class="text-brand-primary">LAN vs WAN:</strong> LAN untuk area kecil (kantor), WAN untuk area luas (negara).</li>
                        <li><strong class="text-brand-primary">Protokol:</strong> Aturan komunikasi seperti TCP/IP dan HTTP.</li>
                    </ul>
                `
            },
            algoritma: {
                title: "Algoritma & Logika",
                content: `
                    <p>Langkah-langkah logis untuk menyelesaikan masalah secara sistematis.</p>
                    <ul class="list-disc pl-5 mt-2 space-y-2">
                        <li><strong class="text-brand-warning">Flowchart:</strong> Diagram alur logika program.</li>
                        <li><strong class="text-brand-warning">Pseudocode:</strong> Kode semu yang mirip bahasa manusia.</li>
                        <li><strong class="text-brand-warning">Looping:</strong> Perulangan proses (For, While).</li>
                    </ul>
                `
            },
            multimedia: {
                title: "Multimedia",
                content: `
                    <p>Integrasi teks, grafik, audio, dan video dalam satu platform digital.</p>
                    <ul class="list-disc pl-5 mt-2 space-y-2">
                        <li><strong class="text-brand-accent">Vektor:</strong> Gambar berbasis matematika (SVG), tidak pecah saat di-zoom.</li>
                        <li><strong class="text-brand-accent">Bitmap:</strong> Gambar berbasis piksel (JPG, PNG).</li>
                        <li><strong class="text-brand-accent">Frame Rate:</strong> Kecepatan gambar dalam video (FPS).</li>
                    </ul>
                `
            },
            ai: {
                title: "AI & Data",
                content: `
                    <p>Kecerdasan buatan dan pengolahan data besar untuk pengambilan keputusan.</p>
                    <ul class="list-disc pl-5 mt-2 space-y-2">
                        <li><strong class="text-brand-success">Machine Learning:</strong> Komputer belajar dari pola data.</li>
                        <li><strong class="text-brand-success">Big Data:</strong> Data dalam volume sangat besar.</li>
                        <li><strong class="text-brand-success">Neural Network:</strong> Sistem yang meniru cara kerja otak manusia.</li>
                    </ul>
                `
            }
        };

        // --- MATERI MODAL LOGIC ---
        function openMateri(key) {
            const data = materiData[key];
            if(data) {
                document.getElementById('materiTitle').innerText = data.title;
                document.getElementById('materiContent').innerHTML = data.content;
                document.getElementById('materiModal').classList.remove('hidden');
                document.getElementById('materiModal').classList.add('flex');
            }
        }

        function closeMateri() {
            document.getElementById('materiModal').classList.add('hidden');
            document.getElementById('materiModal').classList.remove('flex');
        }

        // --- DATA SOAL (UNIT 1, 2, 3) ---
        const questionsData = [
            // UNIT 1: DASAR (Level 1-5)
            { id: 1, q: 'Bagaimana cara mencetak "Hello" di Python?', options: [{ t: 'System.out.println()', c: false }, { t: 'print()', c: true }, { t: 'echo', c: false }, { t: 'console.log()', c: false }] },
            { id: 2, q: 'Apa ekstensi file kode Python?', options: [{ t: '.java', c: false }, { t: '.js', c: false }, { t: '.py', c: true }, { t: '.html', c: false }] },
            { id: 3, q: 'Variabel mana yang benar?', options: [{ t: '2nama', c: false }, { t: 'nama-saya', c: false }, { t: 'nama_saya', c: true }, { t: 'nama saya', c: false }] },
            { id: 4, q: 'Tipe data untuk teks disebut?', options: [{ t: 'Integer', c: false }, { t: 'String', c: true }, { t: 'Boolean', c: false }, { t: 'Float', c: false }] },
            { id: 5, q: 'Simbol untuk komentar di Python?', options: [{ t: '//', c: false }, { t: '/*', c: false }, { t: '#', c: true }, { t: '<!--', c: false }] },
            
            // UNIT 2: LOGIKA (Level 6-10)
            { id: 6, q: 'Hasil dari 5 > 3 adalah?', options: [{ t: 'True', c: true }, { t: 'False', c: false }, { t: 'Error', c: false }, { t: 'None', c: false }] },
            { id: 7, q: 'Loop "for i in range(3)" berjalan berapa kali?', options: [{ t: '2 kali', c: false }, { t: '3 kali', c: true }, { t: '4 kali', c: false }, { t: '1 kali', c: false }] },
            { id: 8, q: 'Operator logika "DAN" di Python?', options: [{ t: '&&', c: false }, { t: 'dan', c: false }, { t: 'and', c: true }, { t: '&', c: false }] },
            { id: 9, q: 'Loop yang berjalan selamanya jika kondisi benar?', options: [{ t: 'for', c: false }, { t: 'while', c: true }, { t: 'if', c: false }, { t: 'def', c: false }] },
            { id: 10, q: 'Kata kunci "else if" di Python disingkat?', options: [{ t: 'elseif', c: false }, { t: 'else if', c: false }, { t: 'elif', c: true }, { t: 'elsif', c: false }] },

            // UNIT 3: STRUKTUR DATA (Level 11-15)
            { id: 11, q: 'Simbol untuk membuat List?', options: [{ t: '()', c: false }, { t: '{}', c: false }, { t: '[]', c: true }, { t: '<>', c: false }] },
            { id: 12, q: 'Simbol untuk Dictionary?', options: [{ t: '[]', c: false }, { t: '{}', c: true }, { t: '()', c: false }, { t: '||', c: false }] },
            { id: 13, q: 'Cara menghitung panjang list?', options: [{ t: 'count()', c: false }, { t: 'size()', c: false }, { t: 'len()', c: true }, { t: 'length', c: false }] },
            { id: 14, q: 'Menambah item ke list?', options: [{ t: 'push()', c: false }, { t: 'add()', c: false }, { t: 'append()', c: true }, { t: 'insert()', c: false }] },
            { id: 15, q: 'Indeks pertama dalam list?', options: [{ t: '1', c: false }, { t: '0', c: true }, { t: '-1', c: false }, { t: 'A', c: false }] }
        ];

        // --- GLOBAL STATE ---
        let userState = { name: "Guest", initial: "G", xp: 10, gems: 10, currentLevel: 1 };
        let currentActiveQuestion = null;
        let selectedOptionBtn = null;

        // --- HELPER ---
        function safeSetText(id, text) {
            const el = document.getElementById(id);
            if (el) el.innerText = text;
        }

        // --- INIT ---
        document.addEventListener('DOMContentLoaded', () => {
            const savedUser = sessionStorage.getItem('codelingo_session_v1');
            if (savedUser) {
                try {
                    userState = JSON.parse(savedUser);
                    if (!userState.currentLevel) userState.currentLevel = 1;
                    
                    document.getElementById('landingPage').classList.add('hidden');
                    document.getElementById('loginPage').classList.add('hidden');
                    document.getElementById('appContainer').classList.remove('hidden');
                    document.getElementById('appContainer').classList.add('flex');
                    document.getElementById('mobileNav').classList.remove('hidden');
                    document.getElementById('mobileNav').classList.add('flex');
                    
                    updateUserUI();
                    renderPath();
                    switchPage('dashboard');
                } catch (e) {
                    sessionStorage.removeItem('codelingo_session_v1');
                }
            }
        });

        // --- AUTH ---
        function goToLogin() {
            document.getElementById('landingPage').classList.add('hidden');
            document.getElementById('loginPage').classList.remove('hidden');
            document.getElementById('loginPage').classList.add('flex');
        }

        function backToLanding() {
            document.getElementById('loginPage').classList.add('hidden');
            document.getElementById('loginPage').classList.remove('flex');
            document.getElementById('landingPage').classList.remove('hidden');
        }

        function handleLogin(e) {
            e.preventDefault();
            const email = document.getElementById('emailInput').value;
            const name = email.split('@')[0];
            const formattedName = name.charAt(0).toUpperCase() + name.slice(1);
            
            userState.name = formattedName;
            userState.initial = formattedName.charAt(0).toUpperCase();
            userState.xp = 10;
            userState.gems = 10;
            userState.currentLevel = 1;

            sessionStorage.setItem('codelingo_session_v1', JSON.stringify(userState));

            document.getElementById('loginPage').classList.add('hidden');
            document.getElementById('loginPage').classList.remove('flex');
            document.getElementById('appContainer').classList.remove('hidden');
            document.getElementById('appContainer').classList.add('flex');
            document.getElementById('mobileNav').classList.remove('hidden');
            document.getElementById('mobileNav').classList.add('flex');
            
            updateUserUI();
            renderPath();
            switchPage('dashboard');
        }

        function logout() {
            sessionStorage.removeItem('codelingo_session_v1');
            location.reload();
        }

        function updateUserUI() {
            safeSetText('profile-name', userState.name);
            safeSetText('dash-name', userState.name);
            
            // Generate Username from Name
            const username = '@' + userState.name.toLowerCase().replace(' ', '_');
            safeSetText('profile-username', username);
            
            safeSetText('profile-total-xp', userState.xp);
            safeSetText('mobile-xp', userState.xp);
            safeSetText('dash-xp', userState.xp);
            
            safeSetText('mobile-gems', userState.gems);
            safeSetText('desktop-gems', userState.gems);
            safeSetText('shop-gems', userState.gems);
            safeSetText('dash-gems', userState.gems);
            
            // Update Avatar
            const avatar = document.getElementById('profile-avatar');
            if(avatar) avatar.src = `https://api.dicebear.com/7.x/avataaars/svg?seed=${userState.name}`;

            renderLeaderboard();
        }

        // --- PROFILE EDIT ---
        function toggleEditProfile() {
            const form = document.getElementById('edit-profile-form');
            if (form.classList.contains('hidden')) {
                form.classList.remove('hidden');
                document.getElementById('edit-name').value = userState.name;
                document.getElementById('edit-username').value = '@' + userState.name.toLowerCase().replace(' ', '_');
            } else {
                form.classList.add('hidden');
            }
        }

        function saveProfile() {
            const newName = document.getElementById('edit-name').value;
            if (newName.trim() !== "") {
                userState.name = newName;
                userState.initial = newName.charAt(0).toUpperCase();
                sessionStorage.setItem('codelingo_session_v1', JSON.stringify(userState));
                updateUserUI();
                toggleEditProfile();
                alert('Profil berhasil diperbarui!');
            }
        }

        // --- PATH RENDERER (LEVELS) ---
        function renderPath() {
            const container = document.getElementById('learningPath');
            container.innerHTML = ''; // Clear all

            // --- UNIT 1 RENDER ---
            const unit1Header = `
                <div class="w-full mb-8 glass-card rounded-3xl p-6 flex justify-between items-center border border-brand-primary/30 relative overflow-hidden group">
                    <div class="absolute inset-0 bg-brand-primary/5 translate-y-full group-hover:translate-y-0 transition duration-500"></div>
                    <div class="relative z-10">
                        <h2 class="text-2xl font-black uppercase text-brand-primary tracking-tight">Unit 1: Hello World</h2>
                        <p class="text-slate-300 text-sm mt-1 font-medium">Dasar Python, Variabel & Tipe Data</p>
                    </div>
                    <button class="relative z-10 bg-dark-bg/80 px-5 py-2.5 rounded-xl font-bold border border-white/10 hover:border-brand-primary hover:text-brand-primary transition text-sm">PANDUAN</button>
                </div>
                <svg class="absolute top-0 left-1/2 transform -translate-x-1/2 h-full w-full pointer-events-none -z-10" style="max-width: 200px; opacity: 0.3;">
                    <path d="M100,100 v800" stroke="#fff" stroke-width="4" fill="none" stroke-linecap="round" stroke-dasharray="8 8" />
                </svg>`;
            container.insertAdjacentHTML('beforeend', unit1Header);

            // Render Levels 1-5
            for(let i=0; i<5; i++) {
                container.appendChild(createLevelButton(i));
            }

            // --- UNIT 2 RENDER ---
            const unit2Locked = userState.currentLevel <= 5;
            const unit2Class = unit2Locked ? 'opacity-50 grayscale' : '';
            const unit2Header = `
                <div class="w-full mt-12 mb-8 glass-card rounded-3xl p-6 flex justify-between items-center border border-white/10 ${unit2Class}">
                    <div>
                        <h2 class="text-2xl font-black uppercase text-brand-accent tracking-tight">Unit 2: Logika</h2>
                        <p class="text-slate-300 text-sm mt-1 font-medium">If, Else, Loop & Boolean</p>
                    </div>
                    ${unit2Locked ? '<i class="fa-solid fa-lock text-2xl text-slate-500"></i>' : '<i class="fa-solid fa-unlock text-2xl text-brand-accent"></i>'}
                </div>`;
            container.insertAdjacentHTML('beforeend', unit2Header);

            // Render Levels 6-10
            for(let i=5; i<10; i++) {
                container.appendChild(createLevelButton(i));
            }

            // --- UNIT 3 RENDER ---
            const unit3Locked = userState.currentLevel <= 10;
            const unit3Class = unit3Locked ? 'opacity-50 grayscale' : '';
            const unit3Header = `
                <div class="w-full mt-12 mb-8 glass-card rounded-3xl p-6 flex justify-between items-center border border-white/10 ${unit3Class}">
                    <div>
                        <h2 class="text-2xl font-black uppercase text-brand-success tracking-tight">Unit 3: Struktur Data</h2>
                        <p class="text-slate-300 text-sm mt-1 font-medium">List, Dictionary & Method</p>
                    </div>
                    ${unit3Locked ? '<i class="fa-solid fa-lock text-2xl text-slate-500"></i>' : '<i class="fa-solid fa-unlock text-2xl text-brand-success"></i>'}
                </div>`;
            container.insertAdjacentHTML('beforeend', unit3Header);

            // Render Levels 11-15
            for(let i=10; i<15; i++) {
                container.appendChild(createLevelButton(i));
            }

            // CHEST
            const chestHTML = `<div class="mt-8 w-24 h-24 flex items-center justify-center z-10 animate-float"><img src="https://img.icons8.com/3d-fluency/94/treasure-chest.png" class="w-20 drop-shadow-2xl cursor-pointer hover:scale-110 transition"></div>`;
            container.insertAdjacentHTML('beforeend', chestHTML);
        }

        function createLevelButton(index) {
            const levelNum = index + 1;
            const wrapper = document.createElement('div');
            wrapper.className = "level-btn-wrapper relative z-10 " + (index % 2 === 0 ? "mr-12" : "ml-12"); 
            
            let btnHTML = '';
            
            // Logic Check for Locked Units
            let isLocked = false;
            if(levelNum > 5 && userState.currentLevel <= 5) isLocked = true; // Unit 2 Locked
            if(levelNum > 10 && userState.currentLevel <= 10) isLocked = true; // Unit 3 Locked

            if (levelNum < userState.currentLevel) {
                // Completed
                btnHTML = `<button class="w-20 h-20 rounded-full bg-brand-warning border-b-[6px] border-brand-warningDark flex items-center justify-center text-3xl text-slate-900 btn-3d shadow-lg ring-4 ring-dark-bg"><i class="fa-solid fa-check"></i></button>`;
            } else if (levelNum === userState.currentLevel && !isLocked) {
                // Current
                btnHTML = `
                <div class="absolute -top-12 left-1/2 transform -translate-x-1/2 bg-white text-brand-primary font-bold px-3 py-1 rounded-lg shadow-lg animate-bounce whitespace-nowrap text-xs border-2 border-brand-primary">START<div class="absolute -bottom-1 left-1/2 transform -translate-x-1/2 w-2 h-2 bg-white rotate-45 border-b-2 border-r-2 border-brand-primary"></div></div>
                <button onclick="openLesson(${levelNum})" class="w-24 h-24 rounded-full bg-brand-primary border-b-[8px] border-brand-dark flex items-center justify-center text-4xl text-white shadow-[0_0_40px_rgba(0,243,255,0.5)] btn-3d hover:brightness-110 ring-4 ring-dark-bg transition transform hover:scale-110"><i class="fa-solid fa-star"></i></button>`;
            } else {
                // Locked
                btnHTML = `<button class="w-16 h-16 rounded-full bg-slate-800 border-b-[6px] border-slate-900 flex items-center justify-center text-xl text-slate-600 btn-3d cursor-not-allowed ring-4 ring-dark-bg"><i class="fa-solid fa-lock"></i></button>`;
            }
            wrapper.innerHTML = btnHTML;
            return wrapper;
        }

        // --- QUIZ LOGIC ---
        function openLesson(levelId) {
            const qData = questionsData.find(q => q.id === levelId);
            if (!qData) return;

            currentActiveQuestion = qData;
            selectedOptionBtn = null;

            document.getElementById('lessonModal').classList.remove('hidden');
            document.getElementById('lessonModal').classList.add('flex');
            
            document.getElementById('questionText').innerText = qData.q;
            const optContainer = document.getElementById('optionsContainer');
            optContainer.innerHTML = '';

            qData.options.forEach((opt, idx) => {
                const btn = document.createElement('button');
                btn.className = 'option-btn glass-card border border-white/10 rounded-2xl p-5 hover:bg-slate-800 text-left transition btn-3d border-b-slate-700 active:border-b-0 relative group w-full';
                btn.onclick = () => selectOption(btn, opt.c);
                btn.innerHTML = `<span class="font-bold text-slate-500 mr-3 text-lg group-hover:text-white transition">${idx+1}</span> <code class="text-brand-primary font-bold text-lg">${opt.t}</code>`;
                optContainer.appendChild(btn);
            });

            const checkBtn = document.getElementById('checkBtn');
            checkBtn.disabled = true;
            checkBtn.className = 'w-full py-4 rounded-2xl bg-slate-700 text-slate-400 font-black uppercase tracking-widest text-lg btn-3d border-b-slate-800 cursor-not-allowed';
            checkBtn.innerText = "PERIKSA";
            checkBtn.classList.remove('hidden');
            
            document.getElementById('continueBtn').classList.add('hidden');
            document.getElementById('feedbackArea').classList.add('hidden');
            document.getElementById('progressBar').style.width = "10%";
        }

        function closeLesson() {
            document.getElementById('lessonModal').classList.add('hidden');
            document.getElementById('lessonModal').classList.remove('flex');
        }

        let isSelectionCorrect = false;

        function selectOption(btn, isCorrect) {
            document.querySelectorAll('.option-btn').forEach(b => {
                b.classList.remove('border-brand-primary', 'bg-brand-primary/10');
                b.classList.add('border-white/10');
            });
            btn.classList.remove('border-white/10');
            btn.classList.add('border-brand-primary', 'bg-brand-primary/10');
            
            selectedOptionBtn = btn;
            isSelectionCorrect = isCorrect;

            const checkBtn = document.getElementById('checkBtn');
            checkBtn.disabled = false;
            checkBtn.className = 'w-full py-4 rounded-2xl bg-brand-success text-slate-900 font-black text-lg uppercase tracking-widest btn-3d border-b-brand-successDark hover:brightness-110 shadow-[0_0_30px_rgba(34,197,94,0.4)] cursor-pointer';
        }

        function checkAnswer() {
            const feedbackArea = document.getElementById('feedbackArea');
            const checkBtn = document.getElementById('checkBtn');
            const continueBtn = document.getElementById('continueBtn');
            
            feedbackArea.classList.remove('hidden');

            if (isSelectionCorrect) {
                selectedOptionBtn.classList.remove('border-brand-primary', 'bg-brand-primary/10');
                selectedOptionBtn.classList.add('border-brand-success', 'bg-brand-success/20');
                
                feedbackArea.className = "mb-4 p-4 rounded-xl font-bold flex items-center gap-3 bg-brand-success/10 text-brand-success border border-brand-success/20";
                feedbackArea.innerHTML = '<i class="fa-solid fa-circle-check text-2xl"></i> <div><div class="text-lg">Benar!</div><div class="text-sm font-normal text-slate-300">Jawaban Tepat! +10 XP</div></div>';
                
                document.getElementById('progressBar').style.width = "100%";
                
                checkBtn.classList.add('hidden');
                continueBtn.classList.remove('hidden');
            } else {
                selectedOptionBtn.classList.remove('border-brand-primary', 'bg-brand-primary/10');
                selectedOptionBtn.classList.add('border-brand-danger', 'bg-brand-danger/20');
                
                feedbackArea.className = "mb-4 p-4 rounded-xl font-bold flex items-center gap-3 bg-brand-danger/10 text-brand-danger border border-brand-danger/20";
                feedbackArea.innerHTML = '<i class="fa-solid fa-circle-xmark text-2xl"></i> <div><div class="text-lg">Salah</div><div class="text-sm font-normal text-slate-300">Coba lagi!</div></div>';
            }
        }

        function finishLevel() {
            if (userState.currentLevel <= questionsData.length) {
                if(userState.currentLevel === currentActiveQuestion.id) {
                    userState.currentLevel++;
                }
            }
            userState.xp += 10;
            sessionStorage.setItem('codelingo_session_v1', JSON.stringify(userState));
            
            closeLesson();
            updateUserUI();
            renderPath();
        }

        // --- BUY ITEM ---
        function buyItem(btn, cost) {
            if(userState.gems < cost) {
                alert("Berlian tidak cukup! Kerjakan latihan dulu.");
                return;
            }
            userState.gems -= cost;
            sessionStorage.setItem('codelingo_session_v1', JSON.stringify(userState));
            updateUserUI();
            
            const originalHTML = btn.innerHTML;
            const originalClasses = btn.className;
            
            btn.innerHTML = '<i class="fa-solid fa-check"></i>';
            btn.className = "px-5 py-2.5 rounded-xl bg-brand-success text-slate-900 font-bold text-sm shadow-[0_0_20px_#22c55e]";
            
            setTimeout(() => { 
                btn.innerHTML = originalHTML; 
                btn.className = originalClasses;
            }, 1500);
        }

        // --- NAVIGATION & LEADERBOARD (Standard) ---
        function switchPage(pageId) {
            document.querySelectorAll('.page-section').forEach(page => page.classList.add('hidden'));
            document.getElementById('page-' + pageId).classList.remove('hidden');
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('bg-white/10', 'text-brand-primary', 'border-brand-primary');
                item.classList.add('text-slate-400', 'border-transparent');
            });
            const activeNav = document.getElementById('nav-' + pageId);
            if(activeNav) {
                activeNav.classList.remove('text-slate-400', 'border-transparent');
                activeNav.classList.add('bg-white/10', 'text-brand-primary', 'border-brand-primary');
            }
            
            const mobileNavs = ['learn', 'leaderboard', 'shop', 'profile'];
            mobileNavs.forEach(id => {
                const btn = document.getElementById('mobile-nav-' + id);
                if(btn) {
                    if(id === pageId) {
                        btn.classList.remove('text-slate-500');
                        btn.classList.add('text-brand-primary');
                    } else {
                        btn.classList.add('text-slate-500');
                        btn.classList.remove('text-brand-primary');
                    }
                }
            });
        }

        let leaderboardData = [
            { name: "Satoshi_N", xp: 3200, initial: "S", color: "from-orange-400 to-red-500" },
            { name: "AI_Bot", xp: 2800, initial: "A", color: "from-blue-400 to-indigo-500" },
            { name: "Linus", xp: 2450, initial: "L", color: "from-green-400 to-emerald-500" },
            { name: "Cyber", xp: 1900, initial: "C", color: "from-purple-400 to-pink-500" },
            { name: "Pixel", xp: 450, initial: "P", color: "from-teal-400 to-cyan-500" }
        ];

        function renderLeaderboard() {
            const container = document.getElementById('leaderboard-container');
            if (!container) return;

            const currentUserEntry = {
                name: userState.name + " (Anda)",
                xp: userState.xp,
                initial: userState.initial,
                color: "from-brand-primary to-brand-accent",
                isUser: true
            };
            let combinedList = [...leaderboardData, currentUserEntry];
            combinedList.sort((a, b) => b.xp - a.xp);

            container.innerHTML = "";
            let widgetHTML = "";

            combinedList.forEach((user, index) => {
                const rank = index + 1;
                let rankColor = "text-slate-400";
                if (rank === 1) rankColor = "text-yellow-400";
                if (rank === 2) rankColor = "text-slate-300";
                if (rank === 3) rankColor = "text-orange-400";

                const bgClass = user.isUser ? "bg-brand-primary/10 border-brand-primary/30" : "hover:bg-white/5 border-transparent";
                
                const html = `
                    <div class="flex items-center p-4 border-b border-white/5 ${bgClass} transition">
                        <div class="font-bold ${rankColor} w-8 text-center text-lg">${rank}</div>
                        <div class="w-10 h-10 rounded-full bg-gradient-to-br ${user.color} flex items-center justify-center font-bold text-white shadow-lg mr-4 text-sm border border-white/10">
                            ${user.initial}
                        </div>
                        <div class="flex-1 font-bold ${user.isUser ? 'text-brand-primary' : 'text-white'}">${user.name}</div>
                        <div class="font-mono font-bold text-slate-300 text-sm">${user.xp} XP</div>
                    </div>
                `;
                container.innerHTML += html;

                if (user.isUser) {
                    widgetHTML = `
                        <div class="flex items-center bg-white/5 p-3 rounded-xl border border-brand-primary/30">
                            <div class="w-10 h-10 rounded-full bg-gradient-to-br from-brand-primary to-brand-accent flex items-center justify-center font-bold text-white mr-3 text-sm shadow-lg">${user.initial}</div>
                            <div class="flex-1">
                                <div class="text-xs font-bold text-brand-primary">Anda</div>
                                <div class="text-xs text-white">${user.xp} XP</div>
                            </div>
                            <div class="text-brand-warning font-bold text-lg">#${rank}</div>
                        </div>
                    `;
                }
            });
            
            const widgetContent = document.getElementById('widget-leaderboard-content');
            if(widgetContent) widgetContent.innerHTML = widgetHTML;
        }
    </script>
</body>
</html>