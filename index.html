<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CodeLingo - Belajar Informatika</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- FontAwesome Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800;900&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;500;700&display=swap" rel="stylesheet">

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Nunito', 'sans-serif'],
                        mono: ['Fira Code', 'monospace'],
                    },
                    colors: {
                        dark: {
                            bg: '#020617',      // Deep Space
                            card: '#0f172a',    // Slate 900
                            border: '#1e293b',  // Slate 800
                            hover: '#334155'    // Slate 700
                        },
                        brand: {
                            primary: '#6366f1', // Indigo 500
                            secondary: '#8b5cf6', // Violet 500
                            accent: '#ec4899',   // Pink 500
                            success: '#10b981',
                            warning: '#f59e0b',
                            danger: '#ef4444'
                        }
                    },
                    animation: {
                        'pulse-slow': 'pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                        'float': 'float 3s ease-in-out infinite',
                        'shimmer': 'shimmer 2s infinite',
                        'pulse-glow': 'pulseGlow 4s infinite',
                        'champion-glow': 'championGlow 2s ease-in-out infinite alternate',
                        'slide-in-up': 'slideInUp 0.6s ease-out',
                    },
                    keyframes: {
                        float: {
                            '0%, 100%': { transform: 'translateY(0)' },
                            '50%': { transform: 'translateY(-10px)' },
                        },
                        shimmer: {
                            '0%': { transform: 'translateX(-100%)' },
                            '100%': { transform: 'translateX(100%)' }
                        },
                        pulseGlow: {
                            '0%, 100%': { opacity: 0.6 },
                            '50%': { opacity: 1 },
                        },
                        championGlow: {
                            '0%': { boxShadow: '0 0 20px rgba(251, 191, 36, 0.3)' },
                            '100%': { boxShadow: '0 0 30px rgba(251, 191, 36, 0.6)' },
                        },
                        slideInUp: {
                            '0%': { transform: 'translateY(30px)', opacity: '0' },
                            '100%': { transform: 'translateY(0)', opacity: '1' },
                        }
                    }
                }
            }
        }
    </script>

    <style type="text/tailwindcss">
        @layer utilities {
            .glass-panel {
                @apply bg-dark-card/60 backdrop-blur-xl border border-white/10 shadow-2xl;
            }
            .text-glow {
                text-shadow: 0 0 10px rgba(99, 102, 241, 0.5);
            }
            .nav-item-active {
                @apply bg-brand-primary/10 text-brand-primary border-l-4 border-brand-primary shadow-lg shadow-brand-primary/5;
            }
            .btn-3d {
                transition: all 0.15s;
                border-bottom-width: 4px;
                transform: translateY(0);
            }
            .btn-3d:active {
                border-bottom-width: 0px;
                transform: translateY(4px);
            }
        }

        /* --- CUSTOM COOL SCROLLBAR (From p.html) --- */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #020617;
        }
        ::-webkit-scrollbar-thumb {
            background: linear-gradient(180deg, #6366f1, #8b5cf6, #ec4899);
            border-radius: 20px;
            border: 2px solid #020617;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(180deg, #818cf8, #a78bfa, #f472b6);
        }
        
        /* Grid Background */
        .bg-cyber-grid {
            background-image: 
                radial-gradient(circle at 50% 50%, rgba(99, 102, 241, 0.05) 0%, transparent 50%),
                linear-gradient(rgba(255, 255, 255, 0.03) 1px, transparent 1px),
                linear-gradient(90deg, rgba(255, 255, 255, 0.03) 1px, transparent 1px);
            background-size: 100% 100%, 50px 50px, 50px 50px;
        }
    </style>
</head>
<body class="bg-dark-bg text-slate-300 font-sans overflow-hidden h-screen flex selection:bg-brand-primary selection:text-white">

    <!-- 1. LANDING PAGE (Sekarang Lengkap Kembali) -->
    <div id="landingPage" class="fixed inset-0 z-50 bg-dark-bg flex flex-col overflow-y-auto scroll-smooth bg-cyber-grid">
        <!-- Navbar -->
        <header class="w-full sticky top-0 z-50 glass-panel border-b border-white/5 !bg-opacity-80">
            <div class="max-w-7xl mx-auto p-4 md:px-8 flex justify-between items-center">
                <h1 class="text-3xl font-black tracking-tight flex items-center gap-2 cursor-pointer" onclick="location.reload()">
                    <i class="fa-solid fa-code text-brand-primary"></i> <span class="text-white">Code</span><span class="text-brand-primary">Lingo</span>
                </h1>
                <div class="hidden md:flex items-center gap-4">
                    <button onclick="goToLogin()" class="font-bold text-slate-400 hover:text-white uppercase text-sm px-4 py-2 hover:bg-white/5 rounded-lg transition tracking-widest">Masuk</button>
                    <button onclick="goToLogin()" class="px-6 py-2.5 rounded-xl bg-white text-dark-bg font-extrabold uppercase text-sm btn-3d border-b-slate-300 hover:bg-slate-100">Daftar Gratis</button>
                </div>
            </div>
        </header>

        <!-- Hero -->
        <section class="py-24 px-6 min-h-[85vh] flex items-center relative overflow-hidden">
            <div class="absolute top-1/4 left-1/4 w-96 h-96 bg-brand-primary/20 rounded-full blur-[120px] -z-10 animate-float"></div>
            <div class="absolute bottom-1/4 right-1/4 w-80 h-80 bg-brand-accent/20 rounded-full blur-[120px] -z-10 animate-float" style="animation-delay: 2s;"></div>

            <div class="max-w-6xl mx-auto flex flex-col md:flex-row items-center gap-20 relative z-10">
                <div class="flex-1 flex justify-center order-2 md:order-1">
                    <div class="relative w-80 h-80 flex items-center justify-center animate-float">
                        <div class="absolute inset-0 border border-brand-primary/30 rounded-full animate-[spin_20s_linear_infinite]"></div>
                        <div class="absolute inset-4 border border-brand-accent/30 rounded-full animate-[spin_15s_linear_infinite_reverse]"></div>
                        <i class="fa-solid fa-robot text-[10rem] text-white drop-shadow-[0_0_50px_rgba(99,102,241,0.6)]"></i>
                    </div>
                </div>
                <div class="flex-1 text-center md:text-left order-1 md:order-2">
                    <h1 class="text-5xl md:text-7xl font-black mb-8 leading-tight text-white tracking-tight">
                        <span class="text-transparent bg-clip-text bg-gradient-to-r from-brand-primary to-brand-accent">Belajar Informatika</span> dengan Cara Seru.
                    </h1>
                    <p class="text-slate-400 text-lg mb-10 leading-relaxed max-w-lg">
                        Bangun karir di dunia teknologi dengan kurikulum gamifikasi. Gratis selamanya, untuk semua orang.
                    </p>
                    <button onclick="goToLogin()" class="w-full md:w-auto px-8 py-4 rounded-2xl bg-brand-primary text-white font-black text-lg uppercase btn-3d border-b-brand-secondary hover:brightness-110 shadow-[0_0_40px_rgba(99,102,241,0.4)] tracking-widest">Mulai Sekarang</button>
                </div>
            </div>
        </section>

        <!-- Roadmap (Step by Step) - DIKEMBALIKAN -->
        <section class="py-24 px-6 border-t border-white/5 bg-dark-bg/30 relative z-10">
            <div class="max-w-6xl mx-auto">
                <div class="text-center mb-20">
                    <h2 class="text-4xl font-black mb-4 text-white">Step by Step</h2>
                    <p class="text-slate-400">Kurikulum terstruktur untuk membimbingmu dari nol hingga kerja.</p>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
                    <div class="glass-panel p-8 rounded-3xl group relative overflow-hidden hover:-translate-y-2 transition duration-300">
                        <div class="absolute top-0 right-0 p-4 text-8xl font-black text-white/5 -rotate-12 group-hover:text-brand-accent/10 transition">1</div>
                        <div class="w-14 h-14 bg-brand-accent/20 rounded-2xl flex items-center justify-center text-brand-accent text-2xl mb-6"><i class="fa-solid fa-code"></i></div>
                        <h3 class="text-xl font-bold mb-2 text-white">Dasar Web</h3>
                        <p class="text-sm text-slate-400 leading-relaxed">HTML5 & CSS3 Mastery. Membangun fondasi tampilan website.</p>
                    </div>
                    <div class="glass-panel p-8 rounded-3xl group relative overflow-hidden hover:-translate-y-2 transition duration-300">
                        <div class="absolute top-0 right-0 p-4 text-8xl font-black text-white/5 -rotate-12 group-hover:text-brand-primary/10 transition">2</div>
                        <div class="w-14 h-14 bg-brand-primary/20 rounded-2xl flex items-center justify-center text-brand-primary text-2xl mb-6"><i class="fa-solid fa-brain"></i></div>
                        <h3 class="text-xl font-bold mb-2 text-white">Logika Program</h3>
                        <p class="text-sm text-slate-400 leading-relaxed">JavaScript Modern (ES6+). Membuat website interaktif.</p>
                    </div>
                    <div class="glass-panel p-8 rounded-3xl group relative overflow-hidden hover:-translate-y-2 transition duration-300">
                        <div class="absolute top-0 right-0 p-4 text-8xl font-black text-white/5 -rotate-12 group-hover:text-brand-success/10 transition">3</div>
                        <div class="w-14 h-14 bg-brand-success/20 rounded-2xl flex items-center justify-center text-brand-success text-2xl mb-6"><i class="fa-brands fa-react"></i></div>
                        <h3 class="text-xl font-bold mb-2 text-white">Frontend Modern</h3>
                        <p class="text-sm text-slate-400 leading-relaxed">React.js & State Management. Membangun SPA yang cepat.</p>
                    </div>
                    <div class="glass-panel p-8 rounded-3xl group relative overflow-hidden hover:-translate-y-2 transition duration-300">
                        <div class="absolute top-0 right-0 p-4 text-8xl font-black text-white/5 -rotate-12 group-hover:text-brand-warning/10 transition">4</div>
                        <div class="w-14 h-14 bg-brand-warning/20 rounded-2xl flex items-center justify-center text-brand-warning text-2xl mb-6"><i class="fa-solid fa-server"></i></div>
                        <h3 class="text-xl font-bold mb-2 text-white">Backend & API</h3>
                        <p class="text-sm text-slate-400 leading-relaxed">Node.js & Database. Mengelola data dan server.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Testimonials (Reviewer) - DIKEMBALIKAN -->
        <section class="py-24 px-6 relative z-10 border-t border-white/5 bg-gradient-to-b from-dark-bg/0 to-dark-bg">
            <div class="max-w-6xl mx-auto">
                <div class="text-center mb-20">
                    <h2 class="text-4xl font-black mb-4 text-white">Reviewer</h2>
                    <p class="text-slate-400">Apa kata mereka tentang CodeLingo?</p>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                    <div class="glass-panel p-8 rounded-3xl border-t-4 border-t-brand-accent">
                        <p class="text-slate-300 mb-8 italic leading-relaxed">"Metode belajarnya sangat modern dan cepat! Infrastruktur kodingnya mantap, tidak terasa sulit tapi kemampuan bertambah pesat."</p>
                        <div class="flex items-center gap-4">
                            <div class="w-12 h-12 rounded-full bg-slate-700 flex items-center justify-center font-bold text-white border-2 border-brand-accent">J</div>
                            <div>
                                <div class="font-bold text-white">Jokowi</div>
                                <div class="text-xs text-brand-accent font-bold tracking-wider">TECH ENTHUSIAST</div>
                            </div>
                        </div>
                    </div>
                    <div class="glass-panel p-8 rounded-3xl border-t-4 border-t-brand-primary transform md:-translate-y-4">
                        <p class="text-slate-300 mb-8 italic leading-relaxed">"Kita harus berani belajar teknologi! Aplikasi ini tegas membimbing dari nol sampai mahir membuat web. Luar biasa!"</p>
                        <div class="flex items-center gap-4">
                            <div class="w-12 h-12 rounded-full bg-slate-700 flex items-center justify-center font-bold text-white border-2 border-brand-primary">P</div>
                            <div>
                                <div class="font-bold text-white">Prabowo</div>
                                <div class="text-xs text-brand-primary font-bold tracking-wider">STRATEGIST</div>
                            </div>
                        </div>
                    </div>
                    <div class="glass-panel p-8 rounded-3xl border-t-4 border-t-brand-success">
                        <p class="text-slate-300 mb-8 italic leading-relaxed">"Sat set sat set belajarnya! Tiap level rasanya puas banget. Sangat recommended buat anak muda yang mau cepat bisa coding."</p>
                        <div class="flex items-center gap-4">
                            <div class="w-12 h-12 rounded-full bg-slate-700 flex items-center justify-center font-bold text-white border-2 border-brand-success">G</div>
                            <div>
                                <div class="font-bold text-white">Ganjar</div>
                                <div class="text-xs text-brand-success font-bold tracking-wider">DIGITAL CREATOR</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Footer (Creator Name) - DIKEMBALIKAN -->
        <footer class="glass-panel py-12 px-6 border-t border-white/5 text-center relative z-10">
            <div class="font-black text-2xl text-white mb-2 tracking-tight">CodeLingo</div>
            <p class="text-slate-500 text-sm mb-8">&copy; 2025 Future of Coding.</p>
            
            <div class="inline-block border border-white/10 rounded-2xl p-6 bg-white/5 backdrop-blur-md hover:bg-white/10 transition cursor-default">
                <p class="text-brand-primary font-bold text-xs tracking-[0.2em] uppercase mb-2">SYSTEM CREATOR</p>
                <p class="text-white font-black text-lg tracking-wide">Zanjabiela Adil Perkasa</p>
                <p class="text-slate-400 text-xs font-mono mt-1 opacity-70">NIM: K3523079</p>
            </div>
        </footer>
    </div>

    <!-- 2. LOGIN PAGE (Original Logic) -->
    <div id="loginPage" class="fixed inset-0 z-50 bg-dark-bg hidden flex-col items-center justify-center p-4 bg-cyber-grid">
        <div class="w-full max-w-md glass-panel p-10 rounded-[2rem] shadow-2xl relative border border-white/10">
            <button onclick="backToLanding()" class="absolute top-8 left-8 text-slate-400 hover:text-white transition"><i class="fa-solid fa-arrow-left text-xl"></i></button>
            <div class="text-center mb-10">
                <div class="w-24 h-24 bg-brand-primary/10 rounded-full flex items-center justify-center mx-auto mb-6 border border-brand-primary/30 shadow-[0_0_30px_rgba(99,102,241,0.2)]">
                    <i class="fa-solid fa-robot text-5xl text-brand-primary"></i>
                </div>
                <h2 class="text-3xl font-black text-white mb-2">Selamat Datang</h2>
                <p class="text-slate-400 text-sm">Masuk untuk melanjutkan progresmu.</p>
            </div>
            <form onsubmit="handleLogin(event)" class="space-y-6">
                <div class="space-y-2">
                    <label class="text-xs font-bold text-brand-primary tracking-widest uppercase ml-1">Email</label>
                    <input type="email" id="emailInput" required placeholder="nama@email.com" class="w-full bg-dark-bg/60 border border-white/10 rounded-xl p-4 text-white focus:border-brand-primary focus:ring-1 focus:ring-brand-primary outline-none transition font-mono text-sm placeholder-slate-600">
                </div>
                <div class="space-y-2">
                    <label class="text-xs font-bold text-brand-primary tracking-widest uppercase ml-1">Password</label>
                    <input type="password" required placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢" class="w-full bg-dark-bg/60 border border-white/10 rounded-xl p-4 text-white focus:border-brand-primary focus:ring-1 focus:ring-brand-primary outline-none transition placeholder-slate-600">
                </div>
                <button type="submit" class="w-full py-4 rounded-xl bg-brand-primary text-white font-black text-lg uppercase tracking-widest btn-3d border-b-brand-secondary hover:brightness-110 shadow-lg mt-4">Masuk</button>
            </form>
        </div>
    </div>

    <!-- 3. MAIN APP CONTAINER (New Layout) -->
    <div id="appContainer" class="hidden h-full w-full bg-cyber-grid">
        
        <!-- SIDEBAR (New Design from p.html, Old Menu Items) -->
        <aside class="w-72 glass-panel flex flex-col z-20 hidden md:flex h-full border-r border-white/5 relative overflow-hidden transition-all duration-300">
            <!-- Decorative Glow Background -->
            <div class="absolute top-0 left-0 w-full h-32 bg-brand-primary/10 blur-3xl pointer-events-none"></div>
    
            <!-- Logo Section -->
            <div class="p-6 pb-2 flex items-center gap-4 relative z-10">
                <div class="relative group cursor-pointer" onclick="location.reload()">
                    <div class="w-12 h-12 rounded-2xl bg-gradient-to-tr from-brand-primary to-brand-accent flex items-center justify-center shadow-lg shadow-brand-primary/20 group-hover:shadow-brand-primary/40 transition-all duration-300 group-hover:scale-105 group-hover:rotate-3">
                        <i class="fa-solid fa-code text-white text-2xl drop-shadow-md"></i>
                    </div>
                </div>
                <div>
                    <h1 class="text-2xl font-black text-white tracking-tighter leading-none font-sans group cursor-pointer">
                        Code<span class="text-transparent bg-clip-text bg-gradient-to-r from-brand-primary to-brand-accent group-hover:text-white transition-colors">Lingo</span>
                    </h1>
                    <div class="flex items-center gap-1.5 mt-1">
                        <div class="w-2 h-2 rounded-full bg-brand-success animate-pulse"></div>
                        <p class="text-[10px] text-brand-success font-bold uppercase tracking-widest shadow-green-500/20">Online</p>
                    </div>
                </div>
            </div>
    
            <!-- Navigation -->
            <nav class="flex-1 px-4 py-6 space-y-8 overflow-y-auto relative z-10">
                
                <!-- Group 1: Main -->
                <div class="space-y-2">
                    <div class="px-4 text-[10px] font-black text-slate-500 uppercase tracking-[0.2em] mb-3 flex items-center gap-2">
                        <span>Main Menu</span>
                        <div class="h-px flex-1 bg-gradient-to-r from-slate-800 to-transparent"></div>
                    </div>
                    
                    <button onclick="switchPage('dashboard')" id="nav-dashboard" class="w-full group flex items-center gap-3 px-4 py-3.5 rounded-2xl text-slate-400 hover:text-white hover:bg-white/5 transition-all nav-item">
                        <i class="fa-solid fa-house w-6 text-center group-hover:text-brand-primary transition-colors"></i>
                        <span class="font-bold tracking-wide text-sm">Dashboard</span>
                    </button>
                    
                    <button onclick="switchPage('learn')" id="nav-learn" class="w-full group flex items-center gap-3 px-4 py-3.5 rounded-2xl text-slate-400 hover:text-white hover:bg-white/5 transition-all nav-item">
                        <i class="fa-solid fa-book-open w-6 text-center group-hover:text-brand-secondary transition-colors"></i>
                        <span class="font-medium group-hover:font-bold transition-all text-sm">Belajar</span>
                    </button>
    
                    <a href="main.html" class="w-full group flex items-center gap-3 px-4 py-3.5 rounded-2xl text-slate-400 hover:text-white hover:bg-white/5 transition-all nav-item">
                        <i class="fa-solid fa-gamepad w-6 text-center group-hover:text-brand-accent transition-colors"></i>
                        <span class="font-medium group-hover:font-bold transition-all text-sm">Bermain</span>
                        <span class="ml-auto bg-brand-accent text-white text-[9px] font-bold px-2 py-0.5 rounded-full shadow-lg shadow-brand-accent/30 animate-pulse">HOT</span>
                    </a>
                </div>
    
                <!-- Group 2: Social & Profile -->
                <div class="space-y-2">
                    <div class="px-4 text-[10px] font-black text-slate-500 uppercase tracking-[0.2em] mb-3 flex items-center gap-2">
                        <span>Social</span>
                        <div class="h-px flex-1 bg-gradient-to-r from-slate-800 to-transparent"></div>
                    </div>
    
                    <button onclick="switchPage('leaderboard')" id="nav-leaderboard" class="w-full group flex items-center gap-3 px-4 py-3.5 rounded-2xl text-slate-400 hover:text-white hover:bg-white/5 transition-all nav-item">
                        <i class="fa-solid fa-trophy w-6 text-center group-hover:text-brand-warning transition-colors"></i>
                        <span class="font-medium group-hover:font-bold transition-all text-sm">Peringkat</span>
                    </button>
                    
                    <button onclick="switchPage('shop')" id="nav-shop" class="w-full group flex items-center gap-3 px-4 py-3.5 rounded-2xl text-slate-400 hover:text-white hover:bg-white/5 transition-all nav-item">
                        <i class="fa-solid fa-store w-6 text-center group-hover:text-brand-success transition-colors"></i>
                        <span class="font-medium group-hover:font-bold transition-all text-sm">Toko</span>
                    </button>
    
                    <button onclick="switchPage('profile')" id="nav-profile" class="w-full group flex items-center gap-3 px-4 py-3.5 rounded-2xl text-slate-400 hover:text-white hover:bg-white/5 transition-all nav-item">
                        <i class="fa-solid fa-user w-6 text-center group-hover:text-brand-primary transition-colors"></i>
                        <span class="font-medium group-hover:font-bold transition-all text-sm">Profil</span>
                    </button>
                </div>
            </nav>
    
            <!-- User Profile Mini -->
            <div class="p-4 relative z-10 border-t border-white/5">
                <button onclick="logout()" class="w-full flex items-center gap-3 px-4 py-3 rounded-xl text-brand-danger hover:bg-brand-danger/10 transition-colors">
                    <i class="fa-solid fa-right-from-bracket"></i>
                    <span class="font-bold text-sm">Keluar</span>
                </button>
            </div>
        </aside>

        <!-- MAIN CONTENT AREA -->
        <main class="flex-1 flex flex-col h-full relative overflow-hidden" id="mainContent">
            <!-- Header Mobile / Topbar -->
            <header class="h-16 border-b border-white/5 glass-panel flex items-center justify-between px-6 z-10 sticky top-0 md:hidden bg-dark-bg/80 backdrop-blur-md">
                <div class="flex items-center gap-3">
                    <i class="fa-solid fa-code text-brand-primary text-xl"></i>
                    <span class="font-bold text-lg text-white">CodeLingo</span>
                </div>
                <div class="flex gap-2">
                    <span class="text-xs font-bold text-brand-warning bg-white/5 px-2 py-1 rounded-lg border border-white/5"><i class="fa-solid fa-bolt"></i> <span id="mobile-xp">0</span></span>
                    <span class="text-xs font-bold text-brand-primary bg-white/5 px-2 py-1 rounded-lg border border-white/5"><i class="fa-solid fa-gem"></i> <span id="mobile-gems">0</span></span>
                </div>
            </header>

            <!-- Scrollable Area -->
            <div class="flex-1 overflow-y-auto p-4 md:p-8 scroll-smooth relative">
                <!-- Background Elements -->
                <div class="absolute top-0 left-0 w-full h-96 bg-gradient-to-b from-brand-primary/5 to-transparent pointer-events-none"></div>

                <!-- PAGE: DASHBOARD (New Layout like p.html) -->
                <div id="page-dashboard" class="page-section max-w-7xl mx-auto space-y-8 relative">
                    
                    <!-- 1. Hero Section -->
                    <div class="flex flex-col md:flex-row justify-between items-start md:items-end gap-4">
                        <div>
                            <h2 class="text-3xl md:text-4xl font-black text-white mb-2">Selamat Datang, <span class="text-transparent bg-clip-text bg-gradient-to-r from-brand-primary to-brand-accent" id="dash-name">Coder</span>! ðŸ‘‹</h2>
                            <p class="text-slate-400">Siap untuk memecahkan bug dan belajar hal baru hari ini?</p>
                        </div>
                        <div class="flex gap-3">
                            <button onclick="window.location.href='main.html'" class="px-6 py-3 rounded-xl bg-brand-primary hover:bg-brand-secondary text-white shadow-lg shadow-brand-primary/25 transition-all text-sm font-bold flex items-center gap-2 btn-3d">
                                <i class="fa-solid fa-gamepad"></i>
                                Bermain
                            </button>
                        </div>
                    </div>

                    <!-- 2. Stats Grid (Matched p.html Style) -->
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
                        <!-- Stat 1: XP -->
                        <div class="glass-panel p-5 rounded-2xl relative overflow-hidden group hover:-translate-y-1 transition-transform duration-300">
                            <div class="absolute -right-4 -top-4 w-24 h-24 bg-brand-secondary/10 rounded-full blur-2xl group-hover:bg-brand-secondary/20 transition-all"></div>
                            <div class="flex justify-between items-start mb-4">
                                <div class="p-3 rounded-lg bg-brand-secondary/10 text-brand-secondary">
                                    <i class="fa-solid fa-bolt text-xl"></i>
                                </div>
                                <span class="text-xs font-bold bg-brand-secondary/10 text-brand-secondary px-2 py-1 rounded">+10</span>
                            </div>
                            <div class="text-2xl font-black text-white mb-1" id="dash-xp">0</div>
                            <div class="text-sm text-slate-400 font-medium">Total XP</div>
                        </div>

                        <!-- Stat 2: Gems -->
                        <div class="glass-panel p-5 rounded-2xl relative overflow-hidden group hover:-translate-y-1 transition-transform duration-300">
                            <div class="absolute -right-4 -top-4 w-24 h-24 bg-brand-primary/10 rounded-full blur-2xl group-hover:bg-brand-primary/20 transition-all"></div>
                            <div class="flex justify-between items-start mb-4">
                                <div class="p-3 rounded-lg bg-brand-primary/10 text-brand-primary">
                                    <i class="fa-solid fa-gem text-xl"></i>
                                </div>
                            </div>
                            <div class="text-2xl font-black text-white mb-1" id="dash-gems">0</div>
                            <div class="text-sm text-slate-400 font-medium">Permata</div>
                        </div>

                        <!-- Stat 3: Streak (Hardcoded/Dummy logic for now) -->
                        <div class="glass-panel p-5 rounded-2xl relative overflow-hidden group hover:-translate-y-1 transition-transform duration-300">
                            <div class="absolute -right-4 -top-4 w-24 h-24 bg-brand-danger/10 rounded-full blur-2xl group-hover:bg-brand-danger/20 transition-all"></div>
                            <div class="flex justify-between items-start mb-4">
                                <div class="p-3 rounded-lg bg-brand-danger/10 text-brand-danger">
                                    <i class="fa-solid fa-fire text-xl"></i>
                                </div>
                            </div>
                            <div class="text-2xl font-black text-white mb-1">1 Hari</div>
                            <div class="text-sm text-slate-400 font-medium">Daily Streak</div>
                        </div>

                        <!-- Stat 4: League -->
                        <div class="glass-panel p-5 rounded-2xl relative overflow-hidden group hover:-translate-y-1 transition-transform duration-300">
                            <div class="absolute -right-4 -top-4 w-24 h-24 bg-brand-warning/10 rounded-full blur-2xl group-hover:bg-brand-warning/20 transition-all"></div>
                            <div class="flex justify-between items-start mb-4">
                                <div class="p-3 rounded-lg bg-brand-warning/10 text-brand-warning">
                                    <i class="fa-solid fa-crown text-xl"></i>
                                </div>
                                <span class="text-xs font-bold bg-brand-warning/10 text-brand-warning px-2 py-1 rounded">Rank #?</span>
                            </div>
                            <div class="text-2xl font-black text-white mb-1">Iron</div>
                            <div class="text-sm text-slate-400 font-medium">Liga Saat Ini</div>
                        </div>
                    </div>

                    <!-- 3. Main Content Grid (2 Columns like p.html) -->
                    <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                        
                        <!-- Left Column: Menu Belajar (Modul) -->
                        <div class="lg:col-span-2 space-y-6">
                            
                            <!-- Header for Modules -->
                            <h3 class="text-lg font-bold text-white flex items-center gap-2">
                                <i class="fa-solid fa-layer-group text-brand-primary"></i>
                                Modul Pembelajaran
                            </h3>

                            <!-- Modules Grid (Using p.html card style) -->
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                <!-- Card 1: Jaringan -->
                                <div onclick="openMateri('jaringan')" class="glass-panel p-5 rounded-2xl hover:bg-white/5 transition-all cursor-pointer group border border-white/5 hover:border-brand-primary/50 relative overflow-hidden">
                                    <div class="absolute right-0 top-0 w-24 h-24 bg-brand-primary/5 rounded-bl-full group-hover:scale-110 transition-transform"></div>
                                    <div class="flex items-start gap-4 relative z-10">
                                        <div class="w-14 h-14 rounded-xl bg-brand-primary/10 flex items-center justify-center group-hover:bg-brand-primary/20 transition-colors shadow-lg shadow-brand-primary/10">
                                            <i class="fa-solid fa-network-wired text-2xl text-brand-primary"></i>
                                        </div>
                                        <div>
                                            <h4 class="font-bold text-white text-lg group-hover:text-brand-primary transition-colors">Jaringan</h4>
                                            <p class="text-xs text-slate-400 mt-1 line-clamp-2">Networking Basics, IP Address, Topology.</p>
                                            <div class="mt-3 flex items-center gap-2 text-[10px] font-bold text-brand-primary bg-brand-primary/10 w-fit px-2 py-0.5 rounded">
                                                <span>PELAJARI</span> <i class="fa-solid fa-arrow-right"></i>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Card 2: Algoritma -->
                                <div onclick="openMateri('algoritma')" class="glass-panel p-5 rounded-2xl hover:bg-white/5 transition-all cursor-pointer group border border-white/5 hover:border-brand-warning/50 relative overflow-hidden">
                                    <div class="absolute right-0 top-0 w-24 h-24 bg-brand-warning/5 rounded-bl-full group-hover:scale-110 transition-transform"></div>
                                    <div class="flex items-start gap-4 relative z-10">
                                        <div class="w-14 h-14 rounded-xl bg-brand-warning/10 flex items-center justify-center group-hover:bg-brand-warning/20 transition-colors shadow-lg shadow-brand-warning/10">
                                            <i class="fa-solid fa-code text-2xl text-brand-warning"></i>
                                        </div>
                                        <div>
                                            <h4 class="font-bold text-white text-lg group-hover:text-brand-warning transition-colors">Algoritma</h4>
                                            <p class="text-xs text-slate-400 mt-1 line-clamp-2">Logic flow, looping, conditional.</p>
                                            <div class="mt-3 flex items-center gap-2 text-[10px] font-bold text-brand-warning bg-brand-warning/10 w-fit px-2 py-0.5 rounded">
                                                <span>PELAJARI</span> <i class="fa-solid fa-arrow-right"></i>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Card 3: Multimedia -->
                                <div onclick="openMateri('multimedia')" class="glass-panel p-5 rounded-2xl hover:bg-white/5 transition-all cursor-pointer group border border-white/5 hover:border-brand-accent/50 relative overflow-hidden">
                                    <div class="absolute right-0 top-0 w-24 h-24 bg-brand-accent/5 rounded-bl-full group-hover:scale-110 transition-transform"></div>
                                    <div class="flex items-start gap-4 relative z-10">
                                        <div class="w-14 h-14 rounded-xl bg-brand-accent/10 flex items-center justify-center group-hover:bg-brand-accent/20 transition-colors shadow-lg shadow-brand-accent/10">
                                            <i class="fa-solid fa-photo-film text-2xl text-brand-accent"></i>
                                        </div>
                                        <div>
                                            <h4 class="font-bold text-white text-lg group-hover:text-brand-accent transition-colors">Multimedia</h4>
                                            <p class="text-xs text-slate-400 mt-1 line-clamp-2">Digital media, vector vs bitmap.</p>
                                            <div class="mt-3 flex items-center gap-2 text-[10px] font-bold text-brand-accent bg-brand-accent/10 w-fit px-2 py-0.5 rounded">
                                                <span>PELAJARI</span> <i class="fa-solid fa-arrow-right"></i>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Card 4: AI & Data -->
                                <div onclick="openMateri('ai')" class="glass-panel p-5 rounded-2xl hover:bg-white/5 transition-all cursor-pointer group border border-white/5 hover:border-brand-success/50 relative overflow-hidden">
                                    <div class="absolute right-0 top-0 w-24 h-24 bg-brand-success/5 rounded-bl-full group-hover:scale-110 transition-transform"></div>
                                    <div class="flex items-start gap-4 relative z-10">
                                        <div class="w-14 h-14 rounded-xl bg-brand-success/10 flex items-center justify-center group-hover:bg-brand-success/20 transition-colors shadow-lg shadow-brand-success/10">
                                            <i class="fa-solid fa-brain text-2xl text-brand-success"></i>
                                        </div>
                                        <div>
                                            <h4 class="font-bold text-white text-lg group-hover:text-brand-success transition-colors">AI & Data</h4>
                                            <p class="text-xs text-slate-400 mt-1 line-clamp-2">Machine Learning, Big Data basics.</p>
                                            <div class="mt-3 flex items-center gap-2 text-[10px] font-bold text-brand-success bg-brand-success/10 w-fit px-2 py-0.5 rounded">
                                                <span>PELAJARI</span> <i class="fa-solid fa-arrow-right"></i>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Additional Modules Row -->
                            <h3 class="text-lg font-bold text-white flex items-center gap-2 mt-8 mb-4">
                                <i class="fa-solid fa-star text-yellow-500"></i>
                                Modul Lanjutan
                            </h3>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                <!-- Card 5: Web Development -->
                                <div onclick="openMateri('web')" class="glass-panel p-5 rounded-2xl hover:bg-white/5 transition-all cursor-pointer group border border-white/5 hover:border-pink-500/50 relative overflow-hidden">
                                    <div class="absolute right-0 top-0 w-24 h-24 bg-pink-500/5 rounded-bl-full group-hover:scale-110 transition-transform"></div>
                                    <div class="flex items-start gap-4 relative z-10">
                                        <div class="w-14 h-14 rounded-xl bg-pink-500/10 flex items-center justify-center group-hover:bg-pink-500/20 transition-colors shadow-lg shadow-pink-500/10">
                                            <i class="fa-solid fa-code text-2xl text-pink-500"></i>
                                        </div>
                                        <div>
                                            <h4 class="font-bold text-white text-lg group-hover:text-pink-500 transition-colors">Web Development</h4>
                                            <p class="text-xs text-slate-400 mt-1 line-clamp-2">HTML, CSS, JavaScript, frameworks.</p>
                                            <div class="mt-3 flex items-center gap-2 text-[10px] font-bold text-pink-500 bg-pink-500/10 w-fit px-2 py-0.5 rounded">
                                                <span>PELAJARI</span> <i class="fa-solid fa-arrow-right"></i>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Card 6: Cybersecurity -->
                                <div onclick="openMateri('security')" class="glass-panel p-5 rounded-2xl hover:bg-white/5 transition-all cursor-pointer group border border-white/5 hover:border-red-500/50 relative overflow-hidden">
                                    <div class="absolute right-0 top-0 w-24 h-24 bg-red-500/5 rounded-bl-full group-hover:scale-110 transition-transform"></div>
                                    <div class="flex items-start gap-4 relative z-10">
                                        <div class="w-14 h-14 rounded-xl bg-red-500/10 flex items-center justify-center group-hover:bg-red-500/20 transition-colors shadow-lg shadow-red-500/10">
                                            <i class="fa-solid fa-shield-alt text-2xl text-red-500"></i>
                                        </div>
                                        <div>
                                            <h4 class="font-bold text-white text-lg group-hover:text-red-500 transition-colors">Cybersecurity</h4>
                                            <p class="text-xs text-slate-400 mt-1 line-clamp-2">Keamanan digital, enkripsi, hacking.</p>
                                            <div class="mt-3 flex items-center gap-2 text-[10px] font-bold text-red-500 bg-red-500/10 w-fit px-2 py-0.5 rounded">
                                                <span>PELAJARI</span> <i class="fa-solid fa-arrow-right"></i>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Card 7: Database -->
                                <div onclick="openMateri('database')" class="glass-panel p-5 rounded-2xl hover:bg-white/5 transition-all cursor-pointer group border border-white/5 hover:border-cyan-500/50 relative overflow-hidden">
                                    <div class="absolute right-0 top-0 w-24 h-24 bg-cyan-500/5 rounded-bl-full group-hover:scale-110 transition-transform"></div>
                                    <div class="flex items-start gap-4 relative z-10">
                                        <div class="w-14 h-14 rounded-xl bg-cyan-500/10 flex items-center justify-center group-hover:bg-cyan-500/20 transition-colors shadow-lg shadow-cyan-500/10">
                                            <i class="fa-solid fa-database text-2xl text-cyan-500"></i>
                                        </div>
                                        <div>
                                            <h4 class="font-bold text-white text-lg group-hover:text-cyan-500 transition-colors">Database</h4>
                                            <p class="text-xs text-slate-400 mt-1 line-clamp-2">SQL, NoSQL, design database.</p>
                                            <div class="mt-3 flex items-center gap-2 text-[10px] font-bold text-cyan-500 bg-cyan-500/10 w-fit px-2 py-0.5 rounded">
                                                <span>PELAJARI</span> <i class="fa-solid fa-arrow-right"></i>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Card 8: Mobile Development -->
                                <div onclick="openMateri('mobile')" class="glass-panel p-5 rounded-2xl hover:bg-white/5 transition-all cursor-pointer group border border-white/5 hover:border-purple-500/50 relative overflow-hidden">
                                    <div class="absolute right-0 top-0 w-24 h-24 bg-purple-500/5 rounded-bl-full group-hover:scale-110 transition-transform"></div>
                                    <div class="flex items-start gap-4 relative z-10">
                                        <div class="w-14 h-14 rounded-xl bg-purple-500/10 flex items-center justify-center group-hover:bg-purple-500/20 transition-colors shadow-lg shadow-purple-500/10">
                                            <i class="fa-solid fa-mobile-alt text-2xl text-purple-500"></i>
                                        </div>
                                        <div>
                                            <h4 class="font-bold text-white text-lg group-hover:text-purple-500 transition-colors">Mobile Development</h4>
                                            <p class="text-xs text-slate-400 mt-1 line-clamp-2">Android, iOS, React Native.</p>
                                            <div class="mt-3 flex items-center gap-2 text-[10px] font-bold text-purple-500 bg-purple-500/10 w-fit px-2 py-0.5 rounded">
                                                <span>PELAJARI</span> <i class="fa-solid fa-arrow-right"></i>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Right Column: Leaderboard & Missions -->
                        <div class="space-y-6">
                            
                            <!-- Misi Harian (Styled like p.html announcements) -->
                            <div class="glass-panel rounded-2xl p-5 border border-brand-primary/20 bg-brand-primary/5">
                                <h3 class="font-bold text-white mb-4 text-sm uppercase tracking-wide opacity-80 flex items-center justify-between">
                                    Misi Harian
                                    <span class="text-[10px] bg-dark-bg px-2 py-0.5 rounded border border-white/10">Reset: 12j</span>
                                </h3>
                                <div class="space-y-3">
                                    <div class="flex items-center gap-3 bg-dark-bg/60 p-3 rounded-xl border border-white/5">
                                        <div class="w-8 h-8 rounded-full bg-brand-secondary/20 flex items-center justify-center text-brand-secondary"><i class="fa-solid fa-check"></i></div>
                                        <div class="flex-1">
                                            <p class="text-xs font-bold text-white">Selesaikan 1 Modul</p>
                                            <div class="w-full h-1 bg-slate-700 rounded-full mt-1.5"><div class="w-1/2 h-full bg-brand-secondary rounded-full"></div></div>
                                        </div>
                                    </div>
                                    <div class="flex items-center gap-3 bg-dark-bg/60 p-3 rounded-xl border border-white/5">
                                        <div class="w-8 h-8 rounded-full bg-brand-accent/20 flex items-center justify-center text-brand-accent"><i class="fa-solid fa-gamepad"></i></div>
                                        <div class="flex-1">
                                            <p class="text-xs font-bold text-white">Main Game</p>
                                            <div class="w-full h-1 bg-slate-700 rounded-full mt-1.5"><div class="w-0 h-full bg-brand-accent rounded-full"></div></div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Leaderboard Widget (Styled like p.html) -->
                            <div class="glass-panel rounded-2xl p-0 overflow-hidden flex flex-col h-auto">
                                <div class="p-5 border-b border-white/10 flex justify-between items-center bg-white/5">
                                    <h3 class="font-bold text-white flex items-center gap-2">
                                        <i class="fa-solid fa-crown text-brand-warning"></i>
                                        Top Students
                                    </h3>
                                    <button onclick="switchPage('leaderboard')" class="text-xs text-brand-primary hover:text-white font-bold transition-colors">Lihat Semua</button>
                                </div>
                                <div class="p-4 space-y-3" id="widget-leaderboard-content">
                                    <!-- JS will populate this -->
                                    <div class="animate-pulse flex space-x-4">
                                        <div class="rounded-full bg-slate-700 h-10 w-10"></div>
                                        <div class="flex-1 space-y-2 py-1">
                                            <div class="h-2 bg-slate-700 rounded"></div>
                                            <div class="h-2 bg-slate-700 rounded w-3/4"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>

                    <!-- Spacer -->
                    <div class="h-10"></div>
                </div>

                <!-- OTHER PAGES (Hidden by default, structure maintained) -->
                
                <!-- Page: Learn -->
                <div id="page-learn" class="page-section hidden max-w-6xl mx-auto py-10 px-6">
                    <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                        <!-- Learning Path - Main Content -->
                        <div class="lg:col-span-2">
                            <div id="learningPath" class="flex flex-col items-center gap-10 relative"></div>
                        </div>
                        
                        <!-- Character & Welcome Section - Sidebar -->
                        <div class="space-y-6">
                            <!-- Welcome Character -->
                            <div class="glass-panel p-6 rounded-3xl text-center relative overflow-hidden group hover:-translate-y-1 transition-transform duration-300">
                                <div class="absolute inset-0 bg-gradient-to-br from-brand-primary/10 to-brand-accent/10 rounded-3xl"></div>
                                <div class="relative z-10">
                                    <div class="w-24 h-24 mx-auto mb-4 rounded-full bg-gradient-to-br from-brand-primary to-brand-accent flex items-center justify-center text-4xl shadow-lg shadow-brand-primary/30 animate-bounce">
                                        <i class="fa-solid fa-robot text-white"></i>
                                    </div>
                                    <h3 class="text-xl font-bold text-white mb-2">CodeBot Assistant</h3>
                                    <p class="text-sm text-slate-400 mb-4">Selamat belajar! Aku di sini untuk membantumu memahami dunia programming.</p>
                                    
                                    <!-- Progress Stats -->
                                    <div class="grid grid-cols-2 gap-3 text-center">
                                        <div class="bg-dark-bg/50 p-3 rounded-xl">
                                            <div class="text-lg font-bold text-brand-primary" id="learn-current-level">1</div>
                                            <div class="text-xs text-slate-400">Level</div>
                                        </div>
                                        <div class="bg-dark-bg/50 p-3 rounded-xl">
                                            <div class="text-lg font-bold text-brand-secondary" id="learn-total-xp">0</div>
                                            <div class="text-xs text-slate-400">XP</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Quick Tips -->
                            <div class="glass-panel p-6 rounded-3xl relative overflow-hidden">
                                <div class="absolute top-0 right-0 w-20 h-20 bg-brand-warning/10 rounded-bl-3xl"></div>
                                <div class="relative z-10">
                                    <h4 class="text-lg font-bold text-white mb-4 flex items-center gap-2">
                                        <i class="fa-solid fa-lightbulb text-brand-warning"></i>
                                        Tips Belajar
                                    </h4>
                                    <div class="space-y-3">
                                        <div class="flex items-start gap-3 p-3 bg-dark-bg/30 rounded-xl">
                                            <i class="fa-solid fa-code text-brand-primary mt-1"></i>
                                            <div>
                                                <div class="text-sm font-bold text-white">Praktik Rutin</div>
                                                <div class="text-xs text-slate-400">Coding setiap hari membuatmu mahir</div>
                                            </div>
                                        </div>
                                        <div class="flex items-start gap-3 p-3 bg-dark-bg/30 rounded-xl">
                                            <i class="fa-solid fa-brain text-brand-secondary mt-1"></i>
                                            <div>
                                                <div class="text-sm font-bold text-white">Pahami Konsep</div>
                                                <div class="text-xs text-slate-400">Jangan hanya menghafal, pahami alasannya</div>
                                            </div>
                                        </div>
                                        <div class="flex items-start gap-3 p-3 bg-dark-bg/30 rounded-xl">
                                            <i class="fa-solid fa-users text-brand-accent mt-1"></i>
                                            <div>
                                                <div class="text-sm font-bold text-white">Diskusi</div>
                                                <div class="text-xs text-slate-400">Belajar bersama teman lebih menyenangkan</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Achievement Preview -->
                            <div class="glass-panel p-6 rounded-3xl relative overflow-hidden">
                                <div class="absolute top-0 right-0 w-20 h-20 bg-brand-success/10 rounded-bl-3xl"></div>
                                <div class="relative z-10">
                                    <h4 class="text-lg font-bold text-white mb-4 flex items-center gap-2">
                                        <i class="fa-solid fa-trophy text-brand-success"></i>
                                        Pencapaian Terbaru
                                    </h4>
                                    <div class="space-y-3">
                                        <div class="flex items-center gap-3 p-3 bg-dark-bg/30 rounded-xl">
                                            <div class="w-10 h-10 rounded-full bg-brand-success/20 flex items-center justify-center">
                                                <i class="fa-solid fa-star text-brand-success"></i>
                                            </div>
                                            <div>
                                                <div class="text-sm font-bold text-white">First Steps</div>
                                                <div class="text-xs text-slate-400">Menyelesaikan level pertama</div>
                                            </div>
                                        </div>
                                        <div class="flex items-center gap-3 p-3 bg-dark-bg/30 rounded-xl opacity-50">
                                            <div class="w-10 h-10 rounded-full bg-slate-600/20 flex items-center justify-center">
                                                <i class="fa-solid fa-fire text-slate-500"></i>
                                            </div>
                                            <div>
                                                <div class="text-sm font-bold text-slate-500">Streak Master</div>
                                                <div class="text-xs text-slate-500">7 hari berturut-turut</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Page: Leaderboard -->
                <div id="page-leaderboard" class="page-section hidden max-w-4xl mx-auto py-10 px-6">
                     <div class="text-center mb-10">
                        <div class="relative inline-block">
                            <img src="https://d35aaqx5ub95lt.cloudfront.net/images/leagues/d4280fdf64d66de7390fe84802432a53.svg" class="w-32 mx-auto mb-6 drop-shadow-[0_0_30px_rgba(251,191,36,0.4)] animate-float">
                            <div class="absolute -top-2 -right-2 w-8 h-8 bg-brand-warning rounded-full flex items-center justify-center animate-pulse">
                                <i class="fa-solid fa-crown text-slate-900 text-sm"></i>
                            </div>
                        </div>
                        <h2 class="text-4xl font-black text-brand-warning tracking-tight">Liga Diamond</h2>
                        <p class="text-slate-400 text-sm mt-2">7 hari tersisa. 10 teratas naik divisi.</p>

                        <!-- League Progress -->
                        <div class="mt-6 max-w-md mx-auto">
                            <div class="flex justify-between text-xs text-slate-400 mb-2">
                                <span>Progress Liga</span>
                                <span id="league-progress">75%</span>
                            </div>
                            <div class="w-full h-2 bg-dark-bg rounded-full overflow-hidden">
                                <div class="h-full bg-gradient-to-r from-brand-warning to-yellow-400 rounded-full animate-pulse" id="league-progress-bar" style="width: 75%"></div>
                            </div>
                        </div>
                    </div>

                    <!-- Top 3 Podium -->
                    <div class="grid grid-cols-3 gap-4 mb-8" id="podium-container">
                        <!-- Podium akan di-generate secara dinamis -->
                    </div>

                    <!-- Full Leaderboard -->
                    <div class="glass-panel rounded-3xl overflow-hidden border border-white/10 shadow-2xl">
                        <div class="p-6 border-b border-white/10 bg-gradient-to-r from-slate-900/50 to-slate-800/50">
                            <h3 class="text-xl font-bold text-white flex items-center gap-2">
                                <i class="fa-solid fa-trophy text-brand-warning animate-bounce"></i>
                                Hall of Fame
                            </h3>
                            <p class="text-slate-400 text-sm mt-1 flex items-center gap-2">
                                <i class="fa-solid fa-crown text-yellow-400 text-xs"></i>
                                Para juara coding terhebat di liga ini
                            </p>
                        </div>
                        <div class="divide-y divide-white/5 overflow-y-auto scrollbar-thin scrollbar-thumb-slate-600 scrollbar-track-transparent" id="leaderboard-full-list">
                            <!-- Leaderboard akan di-generate secara dinamis -->
                        </div>

                        <!-- Action Buttons -->
                        <div class="p-6 border-t border-white/10">
                            <div class="flex gap-3 justify-center">
                                <button onclick="scrollToMyRank()" class="flex-1 px-4 py-3 bg-brand-primary/20 hover:bg-brand-primary/30 border border-brand-primary/30 rounded-xl text-brand-primary font-bold transition-all duration-300 hover:scale-105 flex items-center justify-center gap-2">
                                    <i class="fa-solid fa-user-circle"></i>
                                    Lihat Posisi Saya
                                </button>
                                <button id="load-more-leaderboard" onclick="loadMoreLeaderboard()" class="flex-1 px-4 py-3 bg-dark-bg/50 hover:bg-dark-bg border border-white/10 rounded-xl text-white font-bold transition-all duration-300 hover:scale-105 hover:shadow-lg hover:shadow-brand-primary/20 flex items-center justify-center gap-2">
                                    <i class="fa-solid fa-chevron-down"></i>
                                    Lihat Lebih Banyak
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Page: Shop -->
                <div id="page-shop" class="page-section hidden max-w-4xl mx-auto py-10 px-6">
                    <div class="mb-10 glass-panel p-8 rounded-[2rem] flex justify-between items-center border border-brand-accent/30 relative overflow-hidden bg-gradient-to-r from-purple-900/50 to-blue-900/50">
                        <div class="relative z-10">
                            <h2 class="text-3xl font-black text-white italic tracking-tighter">BLACK MARKET</h2>
                            <p class="text-brand-primary font-bold mt-1 text-lg">Saldo: <span id="shop-gems">0</span> ðŸ’Ž</p>
                        </div>
                        <i class="fa-solid fa-cart-shopping text-9xl text-white/5 absolute -right-6 -bottom-6 -rotate-12"></i>
                    </div>
                    
                    <h3 class="font-black text-slate-300 mb-6 uppercase text-sm tracking-[0.2em]">Katalog Spesial</h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <!-- Items -->
                        <div class="glass-panel p-5 rounded-2xl flex items-center gap-5 hover:border-brand-primary transition cursor-pointer group">
                            <div class="w-16 h-16 rounded-xl bg-brand-primary/10 flex items-center justify-center text-3xl text-brand-primary group-hover:scale-110 transition"><i class="fa-solid fa-shield-halved"></i></div>
                            <div class="flex-1">
                                <h4 class="font-bold text-white text-lg">Streak Freeze</h4>
                                <p class="text-xs text-slate-400 mt-1">Lindungi streakmu 1 hari.</p>
                            </div>
                            <button onclick="buyItem(this, 200)" class="px-5 py-2.5 rounded-xl bg-dark-bg/80 font-bold text-brand-primary text-sm border border-brand-primary/30 hover:bg-brand-primary hover:text-white transition shadow-lg">200 ðŸ’Ž</button>
                        </div>
                        
                        <div class="glass-panel p-5 rounded-2xl flex items-center gap-5 hover:border-brand-secondary transition cursor-pointer group">
                            <div class="w-16 h-16 rounded-xl bg-brand-secondary/10 flex items-center justify-center text-3xl text-brand-secondary group-hover:scale-110 transition"><i class="fa-solid fa-bolt"></i></div>
                            <div class="flex-1">
                                <h4 class="font-bold text-white text-lg">XP Boost</h4>
                                <p class="text-xs text-slate-400 mt-1">Dapatkan 2x XP selama 24 jam.</p>
                            </div>
                            <button onclick="buyItem(this, 150)" class="px-5 py-2.5 rounded-xl bg-dark-bg/80 font-bold text-brand-secondary text-sm border border-brand-secondary/30 hover:bg-brand-secondary hover:text-white transition shadow-lg">150 ðŸ’Ž</button>
                        </div>
                        
                        <div class="glass-panel p-5 rounded-2xl flex items-center gap-5 hover:border-brand-accent transition cursor-pointer group">
                            <div class="w-16 h-16 rounded-xl bg-brand-accent/10 flex items-center justify-center text-3xl text-brand-accent group-hover:scale-110 transition"><i class="fa-solid fa-heart"></i></div>
                            <div class="flex-1">
                                <h4 class="font-bold text-white text-lg">Extra Life</h4>
                                <p class="text-xs text-slate-400 mt-1">Nyawa tambahan untuk tantangan.</p>
                            </div>
                            <button onclick="buyItem(this, 100)" class="px-5 py-2.5 rounded-xl bg-dark-bg/80 font-bold text-brand-accent text-sm border border-brand-accent/30 hover:bg-brand-accent hover:text-white transition shadow-lg">100 ðŸ’Ž</button>
                        </div>
                        
                        <div class="glass-panel p-5 rounded-2xl flex items-center gap-5 hover:border-yellow-500 transition cursor-pointer group">
                            <div class="w-16 h-16 rounded-xl bg-yellow-500/10 flex items-center justify-center text-3xl text-yellow-500 group-hover:scale-110 transition"><i class="fa-solid fa-star"></i></div>
                            <div class="flex-1">
                                <h4 class="font-bold text-white text-lg">Premium Badge</h4>
                                <p class="text-xs text-slate-400 mt-1">Badge eksklusif untuk profil.</p>
                            </div>
                            <button onclick="buyItem(this, 300)" class="px-5 py-2.5 rounded-xl bg-dark-bg/80 font-bold text-yellow-500 text-sm border border-yellow-500/30 hover:bg-yellow-500 hover:text-white transition shadow-lg">300 ðŸ’Ž</button>
                        </div>
                        
                        <div class="glass-panel p-5 rounded-2xl flex items-center gap-5 hover:border-green-500 transition cursor-pointer group">
                            <div class="w-16 h-16 rounded-xl bg-green-500/10 flex items-center justify-center text-3xl text-green-500 group-hover:scale-110 transition"><i class="fa-solid fa-gift"></i></div>
                            <div class="flex-1">
                                <h4 class="font-bold text-white text-lg">Mystery Box</h4>
                                <p class="text-xs text-slate-400 mt-1">Hadiah acak dengan peluang besar.</p>
                            </div>
                            <button onclick="buyItem(this, 250)" class="px-5 py-2.5 rounded-xl bg-dark-bg/80 font-bold text-green-500 text-sm border border-green-500/30 hover:bg-green-500 hover:text-white transition shadow-lg">250 ðŸ’Ž</button>
                        </div>
                        
                        <div class="glass-panel p-5 rounded-2xl flex items-center gap-5 hover:border-pink-500 transition cursor-pointer group">
                            <div class="w-16 h-16 rounded-xl bg-pink-500/10 flex items-center justify-center text-3xl text-pink-500 group-hover:scale-110 transition"><i class="fa-solid fa-palette"></i></div>
                            <div class="flex-1">
                                <h4 class="font-bold text-white text-lg">Theme Unlock</h4>
                                <p class="text-xs text-slate-400 mt-1">Tema baru untuk aplikasi.</p>
                            </div>
                            <button onclick="buyItem(this, 400)" class="px-5 py-2.5 rounded-xl bg-dark-bg/80 font-bold text-pink-500 text-sm border border-pink-500/30 hover:bg-pink-500 hover:text-white transition shadow-lg">400 ðŸ’Ž</button>
                        </div>
                    </div>
                </div>

                <!-- Page: Profile -->
                <div id="page-profile" class="page-section hidden max-w-2xl mx-auto py-10 px-6">
                    <!-- PROFILE CARD HOLOGRAM STYLE -->
                    <div class="glass-panel rounded-[2.5rem] p-10 mb-8 relative overflow-hidden border border-brand-primary/20 bg-dark-bg/30">
                        <div class="absolute top-0 right-0 w-[500px] h-[500px] bg-brand-primary/10 rounded-full blur-[100px] -z-10"></div>
                        <div class="absolute bottom-0 left-0 w-[300px] h-[300px] bg-brand-accent/10 rounded-full blur-[80px] -z-10"></div>
                        <div class="flex flex-col md:flex-row items-center gap-10 relative z-10 mb-12">
                            <div class="relative group cursor-pointer" onclick="toggleEditProfile()">
                                <div class="absolute inset-0 rounded-full bg-gradient-to-tr from-brand-primary to-brand-accent blur-md opacity-70 group-hover:opacity-100 transition duration-500"></div>
                                <div class="relative w-32 h-32 rounded-full bg-dark-card flex items-center justify-center border-2 border-white/20 shadow-2xl z-10 overflow-hidden group-hover:border-brand-primary transition">
                                    <img id="profile-avatar" src="https://api.dicebear.com/7.x/avataaars/svg?seed=Felix" alt="Avatar" class="w-full h-full object-cover">
                                </div>
                            </div>
                            <div class="text-center md:text-left flex-1">
                                <h2 id="profile-name" class="text-5xl font-black text-white tracking-tight mb-2">User</h2>
                                <span id="profile-username" class="text-brand-primary text-sm font-mono bg-brand-primary/10 px-4 py-1.5 rounded-lg border border-brand-primary/20">@new_coder</span>
                            </div>
                        </div>
                        
                        <!-- EDIT FORM (Hidden by default) -->
                        <div id="edit-profile-form" class="hidden mb-8 p-6 bg-dark-bg/60 rounded-2xl border border-white/10 backdrop-blur-md">
                            <h3 class="text-xl font-bold text-white mb-4">Edit Profil</h3>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                                <div>
                                    <label class="text-xs text-slate-400 uppercase font-bold mb-1 block">Nama Tampilan</label>
                                    <input type="text" id="edit-name" class="w-full bg-dark-bg/50 border border-white/10 rounded-xl p-3 text-white focus:border-brand-primary outline-none" placeholder="Nama Baru">
                                </div>
                                <div>
                                    <label class="text-xs text-slate-400 uppercase font-bold mb-1 block">Username</label>
                                    <input type="text" id="edit-username" class="w-full bg-dark-bg/50 border border-white/10 rounded-xl p-3 text-white focus:border-brand-primary outline-none" placeholder="@username_baru">
                                </div>
                            </div>
                            <div class="flex justify-end gap-3">
                                <button onclick="toggleEditProfile()" class="px-4 py-2 rounded-xl text-slate-400 hover:text-white transition">Batal</button>
                                <button onclick="saveProfile()" class="px-6 py-2 rounded-xl bg-brand-primary text-white font-bold hover:brightness-110 transition shadow-lg">Simpan</button>
                            </div>
                        </div>

                         <div class="grid grid-cols-1 md:grid-cols-3 gap-6 pt-8 border-t border-white/10">
                            <div class="bg-dark-bg/40 p-6 rounded-2xl border border-white/5 relative group hover:border-brand-warning/30 transition overflow-hidden">
                                <div class="text-xs text-slate-400 uppercase font-black tracking-[0.2em] mb-2">TOTAL XP</div>
                                <div id="profile-total-xp" class="text-4xl font-black text-white mb-2">0</div>
                            </div>
                             <div class="bg-dark-bg/40 p-6 rounded-2xl border border-white/5 relative group hover:border-brand-warning/30 transition overflow-hidden">
                                <div class="text-xs text-slate-400 uppercase font-black tracking-[0.2em] mb-2">STREAK</div>
                                <div class="text-4xl font-black text-white mb-2">1</div>
                            </div>
                             <div class="bg-dark-bg/40 p-6 rounded-2xl border border-white/5 relative group hover:border-brand-success/30 transition overflow-hidden">
                                <div class="text-xs text-slate-400 uppercase font-black tracking-[0.2em] mb-2">LEVEL</div>
                                <div class="text-4xl font-black text-white mb-2">1</div>
                            </div>
                        </div>
                        
                        <!-- ACHIEVEMENTS SECTION -->
                        <div class="pt-8 border-t border-white/10">
                            <h3 class="text-xl font-black text-white mb-6 uppercase tracking-[0.2em]">Pencapaian</h3>
                            <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                                <div class="bg-dark-bg/40 p-4 rounded-2xl border border-white/5 text-center group hover:border-brand-primary/30 transition">
                                    <div class="w-12 h-12 rounded-full bg-brand-primary/10 flex items-center justify-center text-2xl text-brand-primary mx-auto mb-3 group-hover:scale-110 transition"><i class="fa-solid fa-play"></i></div>
                                    <div class="text-xs text-slate-400 uppercase font-bold mb-1">First Lesson</div>
                                    <div class="text-sm font-bold text-white">Completed</div>
                                </div>
                                <div class="bg-dark-bg/40 p-4 rounded-2xl border border-white/5 text-center group hover:border-brand-secondary/30 transition">
                                    <div class="w-12 h-12 rounded-full bg-brand-secondary/10 flex items-center justify-center text-2xl text-brand-secondary mx-auto mb-3 group-hover:scale-110 transition"><i class="fa-solid fa-fire"></i></div>
                                    <div class="text-xs text-slate-400 uppercase font-bold mb-1">Streak Master</div>
                                    <div class="text-sm font-bold text-white">7 Days</div>
                                </div>
                                <div class="bg-dark-bg/40 p-4 rounded-2xl border border-white/5 text-center group hover:border-brand-accent/30 transition">
                                    <div class="w-12 h-12 rounded-full bg-brand-accent/10 flex items-center justify-center text-2xl text-brand-accent mx-auto mb-3 group-hover:scale-110 transition"><i class="fa-solid fa-brain"></i></div>
                                    <div class="text-xs text-slate-400 uppercase font-bold mb-1">Code Genius</div>
                                    <div class="text-sm font-bold text-white">500 XP</div>
                                </div>
                                <div class="bg-dark-bg/40 p-4 rounded-2xl border border-white/5 text-center group hover:border-yellow-500/30 transition opacity-50">
                                    <div class="w-12 h-12 rounded-full bg-yellow-500/10 flex items-center justify-center text-2xl text-yellow-500 mx-auto mb-3 group-hover:scale-110 transition"><i class="fa-solid fa-trophy"></i></div>
                                    <div class="text-xs text-slate-400 uppercase font-bold mb-1">Champion</div>
                                    <div class="text-sm font-bold text-slate-500">Locked</div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- RECENT ACTIVITY -->
                        <div class="pt-8 border-t border-white/10">
                            <h3 class="text-xl font-black text-white mb-6 uppercase tracking-[0.2em]">Aktivitas Terbaru</h3>
                            <div class="space-y-3">
                                <div class="flex items-center gap-4 p-4 bg-dark-bg/40 rounded-2xl border border-white/5">
                                    <div class="w-10 h-10 rounded-full bg-brand-primary/10 flex items-center justify-center text-lg text-brand-primary"><i class="fa-solid fa-code"></i></div>
                                    <div class="flex-1">
                                        <div class="text-sm font-bold text-white">Menyelesaikan Materi Python</div>
                                        <div class="text-xs text-slate-400">2 jam yang lalu</div>
                                    </div>
                                    <div class="text-sm font-bold text-brand-primary">+50 XP</div>
                                </div>
                                <div class="flex items-center gap-4 p-4 bg-dark-bg/40 rounded-2xl border border-white/5">
                                    <div class="w-10 h-10 rounded-full bg-brand-secondary/10 flex items-center justify-center text-lg text-brand-secondary"><i class="fa-solid fa-gamepad"></i></div>
                                    <div class="flex-1">
                                        <div class="text-sm font-bold text-white">Memenangkan Game Challenge</div>
                                        <div class="text-xs text-slate-400">1 hari yang lalu</div>
                                    </div>
                                    <div class="text-sm font-bold text-brand-secondary">+100 XP</div>
                                </div>
                                <div class="flex items-center gap-4 p-4 bg-dark-bg/40 rounded-2xl border border-white/5">
                                    <div class="w-10 h-10 rounded-full bg-brand-accent/10 flex items-center justify-center text-lg text-brand-accent"><i class="fa-solid fa-users"></i></div>
                                    <div class="flex-1">
                                        <div class="text-sm font-bold text-white">Bergabung dengan Leaderboard</div>
                                        <div class="text-xs text-slate-400">3 hari yang lalu</div>
                                    </div>
                                    <div class="text-sm font-bold text-brand-accent">+25 XP</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </main>
    </div>

    <!-- Mobile Nav (Original Logic, styling update) -->
    <div id="mobileNav" class="hidden md:hidden fixed bottom-0 w-full glass-panel border-t border-white/10 flex justify-around p-3 z-40 safe-area-pb bg-dark-bg/90 backdrop-blur-xl">
        <button onclick="switchPage('dashboard')" class="p-3 rounded-xl text-brand-primary"><i class="fa-solid fa-house text-xl"></i></button>
        <button onclick="switchPage('learn')" id="mobile-nav-learn" class="p-3 rounded-xl text-slate-500"><i class="fa-solid fa-book text-xl"></i></button>
        <button onclick="switchPage('leaderboard')" id="mobile-nav-leaderboard" class="p-3 rounded-xl text-slate-500"><i class="fa-solid fa-trophy text-xl"></i></button>
        <button onclick="switchPage('shop')" id="mobile-nav-shop" class="p-3 rounded-xl text-slate-500"><i class="fa-solid fa-store text-xl"></i></button>
        <button onclick="switchPage('profile')" id="mobile-nav-profile" class="p-3 rounded-xl text-slate-500"><i class="fa-solid fa-user text-xl"></i></button>
    </div>

    <!-- Materi Modal (Original) -->
    <div id="materiModal" class="fixed inset-0 bg-black/90 hidden z-50 items-center justify-center p-4 backdrop-blur-md">
        <div class="glass-panel w-full max-w-2xl rounded-3xl border border-white/10 shadow-2xl overflow-hidden flex flex-col max-h-[80vh] bg-[#0f172a]">
            <div class="p-6 border-b border-white/5 flex justify-between items-center bg-dark-bg/50">
                <h3 id="materiTitle" class="text-2xl font-black text-brand-primary uppercase">Materi</h3>
                <button onclick="closeMateri()" class="text-slate-400 hover:text-white"><i class="fa-solid fa-xmark text-2xl"></i></button>
            </div>
            <div class="p-8 overflow-y-auto">
                <div id="materiContent" class="text-slate-300 leading-relaxed space-y-4"></div>
            </div>
            <div class="p-6 border-t border-white/10 bg-dark-bg/50 text-right">
                <button onclick="closeMateri()" class="px-6 py-2 rounded-xl bg-brand-primary text-white font-bold hover:brightness-110 transition">Tutup</button>
            </div>
        </div>
    </div>

    <!-- Quiz Modal (Original) -->
    <div id="lessonModal" class="fixed inset-0 bg-black/90 hidden z-50 items-center justify-center p-4 backdrop-blur-md">
        <div class="glass-panel w-full max-w-2xl rounded-3xl border border-white/10 shadow-2xl overflow-hidden flex flex-col max-h-[90vh] bg-[#0f172a]">
            <div class="p-6 flex items-center gap-4 bg-dark-bg/50 border-b border-white/5">
                <button onclick="closeLesson()" class="text-slate-400 hover:text-white transition"><i class="fa-solid fa-xmark text-2xl"></i></button>
                <div class="flex-1 bg-slate-800 h-3 rounded-full overflow-hidden"><div id="progressBar" class="bg-brand-success h-full transition-all w-[10%] shadow-[0_0_10px_#22c55e]"></div></div>
                <div class="text-brand-danger font-bold flex items-center gap-1 text-lg"><i class="fa-solid fa-heart animate-pulse"></i> 5</div>
            </div>
            <div class="flex-1 p-8 overflow-y-auto text-center flex flex-col items-center justify-center bg-dark-bg/30">
                <h2 id="questionText" class="text-2xl md:text-3xl font-black mb-10 text-white leading-tight">...</h2>
                <div class="grid grid-cols-1 gap-4 w-full max-w-lg" id="optionsContainer"></div>
            </div>
            <div class="p-6 border-t border-white/10 bg-dark-bg/50">
                <div id="feedbackArea" class="hidden mb-4 p-4 rounded-xl font-bold flex items-center gap-3 animate-pulse"></div>
                <button id="checkBtn" onclick="checkAnswer()" class="w-full py-4 rounded-2xl bg-slate-700 text-slate-400 font-black uppercase tracking-widest text-lg btn-3d border-b-slate-800 cursor-not-allowed" disabled>PERIKSA</button>
                <button id="continueBtn" onclick="finishLevel()" class="hidden w-full py-4 rounded-2xl bg-brand-success text-slate-900 font-black uppercase tracking-widest text-lg btn-3d border-b-brand-successDark hover:brightness-110 shadow-[0_0_20px_rgba(34,197,94,0.4)]">LANJUT</button>
            </div>
        </div>
    </div>

    <!-- JS Logic (Preserved) -->
    <script>
        // --- DATA MATERI ---
        const materiData = {
            jaringan: {
                title: "Jaringan Komputer",
                content: `
                    <p><strong class="text-brand-warning">Jaringan Komputer</strong> adalah sistem yang menghubungkan dua atau lebih komputer untuk berbagi data, sumber daya, dan komunikasi.</p>
                    
                    <h4 class="text-lg font-bold text-white mt-4 mb-2">1. Konsep Dasar Jaringan</h4>
                    <ul class="list-disc pl-5 mt-2 space-y-2">
                        <li><strong class="text-brand-primary">IP Address:</strong> Alamat unik perangkat di jaringan (IPv4: 192.168.1.1, IPv6: lebih panjang).</li>
                        <li><strong class="text-brand-primary">MAC Address:</strong> Alamat fisik hardware perangkat (contoh: 00:1B:44:11:3A:B7).</li>
                        <li><strong class="text-brand-primary">Subnet Mask:</strong> Menentukan bagian IP yang merupakan network dan host.</li>
                        <li><strong class="text-brand-primary">Gateway:</strong> Pintu gerbang untuk keluar dari jaringan lokal.</li>
                    </ul>

                    <h4 class="text-lg font-bold text-white mt-4 mb-2">2. Jenis-Jenis Jaringan</h4>
                    <ul class="list-disc pl-5 mt-2 space-y-2">
                        <li><strong class="text-brand-primary">LAN (Local Area Network):</strong> Jaringan area lokal, seperti dalam rumah atau kantor.</li>
                        <li><strong class="text-brand-primary">WAN (Wide Area Network):</strong> Jaringan area luas, seperti internet.</li>
                        <li><strong class="text-brand-primary">MAN (Metropolitan Area Network):</strong> Jaringan kota, lebih besar dari LAN tapi lebih kecil dari WAN.</li>
                        <li><strong class="text-brand-primary">PAN (Personal Area Network):</strong> Jaringan pribadi, seperti Bluetooth.</li>
                    </ul>

                    <h4 class="text-lg font-bold text-white mt-4 mb-2">3. Topologi Jaringan</h4>
                    <ul class="list-disc pl-5 mt-2 space-y-2">
                        <li><strong class="text-brand-primary">Bus:</strong> Semua perangkat terhubung ke satu kabel utama.</li>
                        <li><strong class="text-brand-primary">Star:</strong> Semua perangkat terhubung ke satu titik pusat (switch/hub).</li>
                        <li><strong class="text-brand-primary">Ring:</strong> Perangkat terhubung membentuk lingkaran.</li>
                        <li><strong class="text-brand-primary">Mesh:</strong> Setiap perangkat terhubung ke semua perangkat lain.</li>
                    </ul>

                    <h4 class="text-lg font-bold text-white mt-4 mb-2">4. Protokol Jaringan</h4>
                    <ul class="list-disc pl-5 mt-2 space-y-2">
                        <li><strong class="text-brand-primary">TCP/IP:</strong> Protokol utama internet (Transmission Control Protocol/Internet Protocol).</li>
                        <li><strong class="text-brand-primary">HTTP/HTTPS:</strong> Untuk web browsing (HyperText Transfer Protocol).</li>
                        <li><strong class="text-brand-primary">FTP:</strong> Untuk transfer file (File Transfer Protocol).</li>
                        <li><strong class="text-brand-primary">DNS:</strong> Menerjemahkan nama domain ke IP address.</li>
                    </ul>

                    <h4 class="text-lg font-bold text-white mt-4 mb-2">5. Perangkat Jaringan</h4>
                    <ul class="list-disc pl-5 mt-2 space-y-2">
                        <li><strong class="text-brand-primary">Router:</strong> Mengarahkan lalu lintas data antar jaringan.</li>
                        <li><strong class="text-brand-primary">Switch:</strong> Menghubungkan perangkat dalam satu jaringan.</li>
                        <li><strong class="text-brand-primary">Hub:</strong> Versi sederhana switch, broadcast semua data.</li>
                        <li><strong class="text-brand-primary">Modem:</strong> Mengubah sinyal digital ke analog untuk koneksi internet.</li>
                    </ul>
                `
            },
            algoritma: {
                title: "Algoritma & Logika",
                content: `
                    <p><strong class="text-brand-warning">Algoritma</strong> adalah urutan langkah-langkah logis dan sistematis untuk menyelesaikan masalah atau melakukan tugas tertentu.</p>
                    
                    <h4 class="text-lg font-bold text-white mt-4 mb-2">1. Konsep Dasar Algoritma</h4>
                    <ul class="list-disc pl-5 mt-2 space-y-2">
                        <li><strong class="text-brand-warning">Finite:</strong> Algoritma harus berakhir setelah langkah terbatas.</li>
                        <li><strong class="text-brand-warning">Definite:</strong> Setiap langkah harus jelas dan tidak ambigu.</li>
                        <li><strong class="text-brand-warning">Effective:</strong> Setiap langkah dapat dieksekusi dalam waktu terbatas.</li>
                        <li><strong class="text-brand-warning">Input/Output:</strong> Memiliki input dan menghasilkan output yang diinginkan.</li>
                    </ul>

                    <h4 class="text-lg font-bold text-white mt-4 mb-2">2. Struktur Kontrol</h4>
                    <ul class="list-disc pl-5 mt-2 space-y-2">
                        <li><strong class="text-brand-warning">Sequence:</strong> Langkah-langkah dieksekusi secara berurutan.</li>
                        <li><strong class="text-brand-warning">Selection:</strong> Percabangan berdasarkan kondisi (if-else).</li>
                        <li><strong class="text-brand-warning">Iteration:</strong> Perulangan (loop) sampai kondisi terpenuhi.</li>
                        <li><strong class="text-brand-warning">Recursion:</strong> Fungsi yang memanggil dirinya sendiri.</li>
                    </ul>

                    <h4 class="text-lg font-bold text-white mt-4 mb-2">3. Jenis-Jenis Algoritma</h4>
                    <ul class="list-disc pl-5 mt-2 space-y-2">
                        <li><strong class="text-brand-warning">Sorting:</strong> Mengurutkan data (Bubble Sort, Quick Sort, Merge Sort).</li>
                        <li><strong class="text-brand-warning">Searching:</strong> Mencari data (Linear Search, Binary Search).</li>
                        <li><strong class="text-brand-warning">Graph:</strong> Menyelesaikan masalah graf (DFS, BFS, Dijkstra).</li>
                        <li><strong class="text-brand-warning">Dynamic Programming:</strong> Memecah masalah kompleks menjadi sub-masalah.</li>
                    </ul>

                    <h4 class="text-lg font-bold text-white mt-4 mb-2">4. Flowchart & Pseudocode</h4>
                    <ul class="list-disc pl-5 mt-2 space-y-2">
                        <li><strong class="text-brand-warning">Flowchart:</strong> Representasi visual algoritma menggunakan simbol-simbol.</li>
                        <li><strong class="text-brand-warning">Pseudocode:</strong> Deskripsi algoritma dalam bahasa sehari-hari yang mirip kode.</li>
                        <li><strong class="text-brand-warning">Contoh Simbol Flowchart:</strong> Oval (start/end), Rectangle (process), Diamond (decision).</li>
                    </ul>

                    <h4 class="text-lg font-bold text-white mt-4 mb-2">5. Kompleksitas Algoritma</h4>
                    <ul class="list-disc pl-5 mt-2 space-y-2">
                        <li><strong class="text-brand-warning">Time Complexity:</strong> Waktu eksekusi algoritma (Big O notation).</li>
                        <li><strong class="text-brand-warning">Space Complexity:</strong> Memori yang digunakan algoritma.</li>
                        <li><strong class="text-brand-warning">Best Case:</strong> Kondisi terbaik (O(1) untuk sorted array).</li>
                        <li><strong class="text-brand-warning">Worst Case:</strong> Kondisi terburuk (O(nÂ²) untuk Bubble Sort).</li>
                    </ul>
                `
            },
            multimedia: {
                title: "Multimedia",
                content: `
                    <p><strong class="text-brand-accent">Multimedia</strong> adalah integrasi berbagai bentuk media digital seperti teks, gambar, audio, video, dan animasi dalam satu presentasi atau aplikasi.</p>
                    
                    <h4 class="text-lg font-bold text-white mt-4 mb-2">1. Jenis Media Digital</h4>
                    <ul class="list-disc pl-5 mt-2 space-y-2">
                        <li><strong class="text-brand-accent">Teks:</strong> Informasi tertulis dalam format digital.</li>
                        <li><strong class="text-brand-accent">Grafik:</strong> Gambar statis (vektor atau bitmap).</li>
                        <li><strong class="text-brand-accent">Audio:</strong> Suara digital (musik, efek suara, suara manusia).</li>
                        <li><strong class="text-brand-accent">Video:</strong> Rangkaian gambar bergerak dengan audio.</li>
                        <li><strong class="text-brand-accent">Animasi:</strong> Gambar bergerak yang dibuat secara digital.</li>
                    </ul>

                    <h4 class="text-lg font-bold text-white mt-4 mb-2">2. Grafik Vektor vs Bitmap</h4>
                    <ul class="list-disc pl-5 mt-2 space-y-2">
                        <li><strong class="text-brand-accent">Vektor:</strong> Gambar berbasis matematika (titik, garis, kurva). Format: SVG, AI. Kelebihan: scalable tanpa kehilangan kualitas.</li>
                        <li><strong class="text-brand-accent">Bitmap:</strong> Gambar berbasis piksel. Format: JPG, PNG, GIF. Kelebihan: detail tinggi untuk foto.</li>
                        <li><strong class="text-brand-accent">Resolusi:</strong> Jumlah piksel per inch (DPI/PPI).</li>
                        <li><strong class="text-brand-accent">Color Depth:</strong> Jumlah warna yang dapat direpresentasikan (8-bit, 24-bit, 32-bit).</li>
                    </ul>

                    <h4 class="text-lg font-bold text-white mt-4 mb-2">3. Kompresi Media</h4>
                    <ul class="list-disc pl-5 mt-2 space-y-2">
                        <li><strong class="text-brand-accent">Lossless:</strong> Kompresi tanpa kehilangan data (ZIP, PNG).</li>
                        <li><strong class="text-brand-accent">Lossy:</strong> Kompresi dengan sedikit kehilangan kualitas (JPG, MP3).</li>
                        <li><strong class="text-brand-accent">Codec:</strong> Software/hardware yang mengencode/decode media (H.264, MP3, AAC).</li>
                    </ul>

                    <h4 class="text-lg font-bold text-white mt-4 mb-2">4. Video & Audio</h4>
                    <ul class="list-disc pl-5 mt-2 space-y-2">
                        <li><strong class="text-brand-accent">Frame Rate:</strong> Jumlah frame per detik (24fps film, 30fps TV, 60fps gaming).</li>
                        <li><strong class="text-brand-accent">Resolution:</strong> Ukuran video (720p, 1080p, 4K).</li>
                        <li><strong class="text-brand-accent">Aspect Ratio:</strong> Rasio lebar:tinggi (16:9, 4:3, 21:9).</li>
                        <li><strong class="text-brand-accent">Sample Rate:</strong> Frekuensi sampling audio (44.1kHz CD, 48kHz profesional).</li>
                        <li><strong class="text-brand-accent">Bit Depth:</strong> Kedalaman bit audio (16-bit, 24-bit).</li>
                    </ul>

                    <h4 class="text-lg font-bold text-white mt-4 mb-2">5. Tools Multimedia</h4>
                    <ul class="list-disc pl-5 mt-2 space-y-2">
                        <li><strong class="text-brand-accent">Editing Software:</strong> Adobe Photoshop (grafik), Premiere (video), Audition (audio).</li>
                        <li><strong class="text-brand-accent">Web Technologies:</strong> HTML5 Canvas, WebGL, CSS Animations.</li>
                        <li><strong class="text-brand-accent">3D Software:</strong> Blender, Maya, 3ds Max untuk modeling 3D.</li>
                        <li><strong class="text-brand-accent">Game Engines:</strong> Unity, Unreal Engine untuk multimedia interaktif.</li>
                    </ul>
                `
            },
            ai: {
                title: "AI & Data",
                content: `
                    <p><strong class="text-brand-success">Artificial Intelligence (AI)</strong> adalah bidang ilmu komputer yang berfokus pada pembuatan mesin yang dapat melakukan tugas-tugas yang biasanya memerlukan kecerdasan manusia.</p>
                    
                    <h4 class="text-lg font-bold text-white mt-4 mb-2">1. Konsep Dasar AI</h4>
                    <ul class="list-disc pl-5 mt-2 space-y-2">
                        <li><strong class="text-brand-success">Machine Learning:</strong> Subset AI dimana mesin belajar dari data tanpa diprogram secara eksplisit.</li>
                        <li><strong class="text-brand-success">Deep Learning:</strong> Teknik ML menggunakan neural network dengan banyak layer.</li>
                        <li><strong class="text-brand-success">Natural Language Processing:</strong> AI memahami dan menghasilkan bahasa manusia.</li>
                        <li><strong class="text-brand-success">Computer Vision:</strong> AI menginterpretasi dan memahami konten visual.</li>
                    </ul>

                    <h4 class="text-lg font-bold text-white mt-4 mb-2">2. Machine Learning</h4>
                    <ul class="list-disc pl-5 mt-2 space-y-2">
                        <li><strong class="text-brand-success">Supervised Learning:</strong> Model belajar dari data berlabel (classification, regression).</li>
                        <li><strong class="text-brand-success">Unsupervised Learning:</strong> Model menemukan pola dalam data tanpa label (clustering, dimensionality reduction).</li>
                        <li><strong class="text-brand-success">Reinforcement Learning:</strong> Agent belajar melalui trial-and-error dengan reward system.</li>
                        <li><strong class="text-brand-success">Training Data:</strong> Dataset untuk melatih model ML.</li>
                    </ul>

                    <h4 class="text-lg font-bold text-white mt-4 mb-2">3. Neural Networks</h4>
                    <ul class="list-disc pl-5 mt-2 space-y-2">
                        <li><strong class="text-brand-success">Neuron:</strong> Unit dasar yang menerima input, memproses, dan menghasilkan output.</li>
                        <li><strong class="text-brand-success">Layer:</strong> Input layer, hidden layer(s), output layer.</li>
                        <li><strong class="text-brand-success">Activation Function:</strong> Fungsi yang menentukan output neuron (ReLU, Sigmoid, Tanh).</li>
                        <li><strong class="text-brand-success">Backpropagation:</strong> Algoritma untuk melatih neural network.</li>
                    </ul>

                    <h4 class="text-lg font-bold text-white mt-4 mb-2">4. Big Data</h4>
                    <ul class="list-disc pl-5 mt-2 space-y-2">
                        <li><strong class="text-brand-success">Volume:</strong> Jumlah data yang sangat besar (terabytes, petabytes).</li>
                        <li><strong class="text-brand-success">Velocity:</strong> Kecepatan data dihasilkan dan diproses.</li>
                        <li><strong class="text-brand-success">Variety:</strong> Berbagai jenis data (structured, semi-structured, unstructured).</li>
                        <li><strong class="text-brand-success">Veracity:</strong> Kualitas dan keakuratan data.</li>
                        <li><strong class="text-brand-success">Value:</strong> Nilai insights yang bisa diperoleh dari data.</li>
                    </ul>

                    <h4 class="text-lg font-bold text-white mt-4 mb-2">5. Tools & Frameworks AI</h4>
                    <ul class="list-disc pl-5 mt-2 space-y-2">
                        <li><strong class="text-brand-success">Python Libraries:</strong> TensorFlow, PyTorch, Scikit-learn, Pandas, NumPy.</li>
                        <li><strong class="text-brand-success">Cloud Platforms:</strong> AWS SageMaker, Google Cloud AI, Azure Machine Learning.</li>
                        <li><strong class="text-brand-success">Data Processing:</strong> Apache Spark, Hadoop untuk big data.</li>
                        <li><strong class="text-brand-success">AutoML:</strong> Tools untuk automatisasi machine learning (Google AutoML, H2O.ai).</li>
                    </ul>

                    <h4 class="text-lg font-bold text-white mt-4 mb-2">6. Etika AI</h4>
                    <ul class="list-disc pl-5 mt-2 space-y-2">
                        <li><strong class="text-brand-success">Bias & Fairness:</strong> Memastikan AI tidak diskriminatif.</li>
                        <li><strong class="text-brand-success">Privacy:</strong> Melindungi data pribadi pengguna.</li>
                        <li><strong class="text-brand-success">Transparency:</strong> Menjelaskan bagaimana AI membuat keputusan.</li>
                        <li><strong class="text-brand-success">Accountability:</strong> Tanggung jawab atas keputusan AI.</li>
                    </ul>
                `
            },
            web: {
                title: "Web Development",
                content: `
                    <p><strong class="text-pink-500">Web Development</strong> adalah proses pembuatan dan pemeliharaan situs web menggunakan berbagai teknologi dan bahasa pemrograman.</p>
                    
                    <h4 class="text-lg font-bold text-white mt-4 mb-2">1. HTML (HyperText Markup Language)</h4>
                    <ul class="list-disc pl-5 mt-2 space-y-2">
                        <li><strong class="text-pink-500">Struktur:</strong> Elemen dasar seperti &lt;html&gt;, &lt;head&gt;, &lt;body&gt;.</li>
                        <li><strong class="text-pink-500">Semantic HTML:</strong> &lt;header&gt;, &lt;nav&gt;, &lt;main&gt;, &lt;article&gt;, &lt;footer&gt;.</li>
                        <li><strong class="text-pink-500">Forms:</strong> Input, textarea, select, button untuk interaksi user.</li>
                        <li><strong class="text-pink-500">Accessibility:</strong> ARIA attributes, alt text untuk gambar.</li>
                    </ul>

                    <h4 class="text-lg font-bold text-white mt-4 mb-2">2. CSS (Cascading Style Sheets)</h4>
                    <ul class="list-disc pl-5 mt-2 space-y-2">
                        <li><strong class="text-pink-500">Selectors:</strong> Element, class, id, attribute selectors.</li>
                        <li><strong class="text-pink-500">Box Model:</strong> Content, padding, border, margin.</li>
                        <li><strong class="text-pink-500">Layout:</strong> Flexbox, CSS Grid, positioning.</li>
                        <li><strong class="text-pink-500">Responsive Design:</strong> Media queries, mobile-first approach.</li>
                        <li><strong class="text-pink-500">Animations:</strong> Transitions, keyframes, transforms.</li>
                    </ul>

                    <h4 class="text-lg font-bold text-white mt-4 mb-2">3. JavaScript</h4>
                    <ul class="list-disc pl-5 mt-2 space-y-2">
                        <li><strong class="text-pink-500">DOM Manipulation:</strong> Mengubah HTML dan CSS secara dinamis.</li>
                        <li><strong class="text-pink-500">Event Handling:</strong> Click, submit, scroll events.</li>
                        <li><strong class="text-pink-500">Async Programming:</strong> Promises, async/await, fetch API.</li>
                        <li><strong class="text-pink-500">ES6+ Features:</strong> Arrow functions, destructuring, modules.</li>
                    </ul>

                    <h4 class="text-lg font-bold text-white mt-4 mb-2">4. Frameworks & Libraries</h4>
                    <ul class="list-disc pl-5 mt-2 space-y-2">
                        <li><strong class="text-pink-500">Frontend:</strong> React, Vue.js, Angular untuk UI components.</li>
                        <li><strong class="text-pink-500">Backend:</strong> Node.js, Express.js, Django, Ruby on Rails.</li>
                        <li><strong class="text-pink-500">CSS Frameworks:</strong> Bootstrap, Tailwind CSS, Material UI.</li>
                        <li><strong class="text-pink-500">Build Tools:</strong> Webpack, Vite, Babel untuk development.</li>
                    </ul>

                    <h4 class="text-lg font-bold text-white mt-4 mb-2">5. Web Standards & Best Practices</h4>
                    <ul class="list-disc pl-5 mt-2 space-y-2">
                        <li><strong class="text-pink-500">SEO:</strong> Search Engine Optimization untuk visibility.</li>
                        <li><strong class="text-pink-500">Performance:</strong> Code splitting, lazy loading, caching.</li>
                        <li><strong class="text-pink-500">Security:</strong> HTTPS, input validation, XSS prevention.</li>
                        <li><strong class="text-pink-500">Cross-browser Compatibility:</strong> Testing di berbagai browser.</li>
                    </ul>
                `
            },
            security: {
                title: "Cybersecurity",
                content: `
                    <p><strong class="text-red-500">Cybersecurity</strong> adalah praktik melindungi sistem, jaringan, dan data dari ancaman digital dan serangan cyber.</p>
                    
                    <h4 class="text-lg font-bold text-white mt-4 mb-2">1. Konsep Dasar Keamanan</h4>
                    <ul class="list-disc pl-5 mt-2 space-y-2">
                        <li><strong class="text-red-500">CIA Triad:</strong> Confidentiality, Integrity, Availability.</li>
                        <li><strong class="text-red-500">Authentication:</strong> Verifikasi identitas (password, biometrics, MFA).</li>
                        <li><strong class="text-red-500">Authorization:</strong> Kontrol akses ke sumber daya.</li>
                        <li><strong class="text-red-500">Non-repudiation:</strong> Tidak dapat menyangkal tindakan yang dilakukan.</li>
                    </ul>

                    <h4 class="text-lg font-bold text-white mt-4 mb-2">2. Enkripsi & Kriptografi</h4>
                    <ul class="list-disc pl-5 mt-2 space-y-2">
                        <li><strong class="text-red-500">Symmetric Encryption:</strong> AES, DES - kunci sama untuk encrypt/decrypt.</li>
                        <li><strong class="text-red-500">Asymmetric Encryption:</strong> RSA, ECC - public/private key pair.</li>
                        <li><strong class="text-red-500">Hash Functions:</strong> SHA-256, MD5 untuk integrity checking.</li>
                        <li><strong class="text-red-500">Digital Signatures:</strong> Memastikan authenticity dan non-repudiation.</li>
                    </ul>

                    <h4 class="text-lg font-bold text-white mt-4 mb-2">3. Jenis Serangan Cyber</h4>
                    <ul class="list-disc pl-5 mt-2 space-y-2">
                        <li><strong class="text-red-500">Malware:</strong> Virus, worm, trojan, ransomware.</li>
                        <li><strong class="text-red-500">Phishing:</strong> Serangan social engineering via email/website palsu.</li>
                        <li><strong class="text-red-500">DDoS:</strong> Distributed Denial of Service - membanjiri server dengan traffic.</li>
                        <li><strong class="text-red-500">SQL Injection:</strong> Memanipulasi query database melalui input user.</li>
                        <li><strong class="text-red-500">XSS:</strong> Cross-Site Scripting - menjalankan script berbahaya.</li>
                    </ul>

                    <h4 class="text-lg font-bold text-white mt-4 mb-2">4. Tools & Teknik Keamanan</h4>
                    <ul class="list-disc pl-5 mt-2 space-y-2">
                        <li><strong class="text-red-500">Firewall:</strong> Filter traffic masuk/keluar berdasarkan rules.</li>
                        <li><strong class="text-red-500">IDS/IPS:</strong> Intrusion Detection/Prevention Systems.</li>
                        <li><strong class="text-red-500">VPN:</strong> Virtual Private Network untuk koneksi aman.</li>
                        <li><strong class="text-red-500">Penetration Testing:</strong> Simulasi serangan untuk menemukan vulnerability.</li>
                        <li><strong class="text-red-500">Security Auditing:</strong> Review sistem untuk compliance dan keamanan.</li>
                    </ul>

                    <h4 class="text-lg font-bold text-white mt-4 mb-2">5. Best Practices Cybersecurity</h4>
                    <ul class="list-disc pl-5 mt-2 space-y-2">
                        <li><strong class="text-red-500">Zero Trust:</strong> Never trust, always verify.</li>
                        <li><strong class="text-red-500">Regular Updates:</strong> Patch vulnerabilities segera.</li>
                        <li><strong class="text-red-500">Backup:</strong> 3-2-1 rule: 3 copies, 2 media types, 1 offsite.</li>
                        <li><strong class="text-red-500">Training:</strong> Edukasi user tentang security awareness.</li>
                        <li><strong class="text-red-500">Incident Response:</strong> Plan untuk menangani breach.</li>
                    </ul>
                `
            },
            database: {
                title: "Database Management",
                content: `
                    <p><strong class="text-cyan-500">Database</strong> adalah sistem terorganisir untuk menyimpan, mengelola, dan mengambil data secara efisien.</p>
                    
                    <h4 class="text-lg font-bold text-white mt-4 mb-2">1. Konsep Dasar Database</h4>
                    <ul class="list-disc pl-5 mt-2 space-y-2">
                        <li><strong class="text-cyan-500">Data vs Information:</strong> Data mentah vs data yang bermakna.</li>
                        <li><strong class="text-cyan-500">Entity & Attributes:</strong> Objek dan properti-propertinya.</li>
                        <li><strong class="text-cyan-500">Relationships:</strong> Hubungan antara entities (one-to-one, one-to-many, many-to-many).</li>
                        <li><strong class="text-cyan-500">Keys:</strong> Primary key, foreign key, candidate key.</li>
                    </ul>

                    <h4 class="text-lg font-bold text-white mt-4 mb-2">2. SQL (Structured Query Language)</h4>
                    <ul class="list-disc pl-5 mt-2 space-y-2">
                        <li><strong class="text-cyan-500">DDL:</strong> Data Definition Language (CREATE, ALTER, DROP).</li>
                        <li><strong class="text-cyan-500">DML:</strong> Data Manipulation Language (SELECT, INSERT, UPDATE, DELETE).</li>
                        <li><strong class="text-cyan-500">DCL:</strong> Data Control Language (GRANT, REVOKE).</li>
                        <li><strong class="text-cyan-500">TCL:</strong> Transaction Control Language (COMMIT, ROLLBACK).</li>
                        <li><strong class="text-cyan-500">Joins:</strong> INNER, LEFT, RIGHT, FULL OUTER joins.</li>
                    </ul>

                    <h4 class="text-lg font-bold text-white mt-4 mb-2">3. NoSQL Databases</h4>
                    <ul class="list-disc pl-5 mt-2 space-y-2">
                        <li><strong class="text-cyan-500">Document Stores:</strong> MongoDB - JSON-like documents.</li>
                        <li><strong class="text-cyan-500">Key-Value Stores:</strong> Redis, DynamoDB - simple key-value pairs.</li>
                        <li><strong class="text-cyan-500">Column-Family:</strong> Cassandra - columns grouped in families.</li>
                        <li><strong class="text-cyan-500">Graph Databases:</strong> Neo4j - relationships-focused.</li>
                    </ul>

                    <h4 class="text-lg font-bold text-white mt-4 mb-2">4. Database Design</h4>
                    <ul class="list-disc pl-5 mt-2 space-y-2">
                        <li><strong class="text-cyan-500">Normalization:</strong> Mengurangi redundancy (1NF, 2NF, 3NF, BCNF).</li>
                        <li><strong class="text-cyan-500">ER Diagrams:</strong> Entity-Relationship modeling.</li>
                        <li><strong class="text-cyan-500">Indexing:</strong> Mempercepat query dengan index structures.</li>
                        <li><strong class="text-cyan-500">Partitioning:</strong> Membagi data besar menjadi bagian-bagian.</li>
                    </ul>

                    <h4 class="text-lg font-bold text-white mt-4 mb-2">5. Database Administration</h4>
                    <ul class="list-disc pl-5 mt-2 space-y-2">
                        <li><strong class="text-cyan-500">Backup & Recovery:</strong> Strategi backup dan disaster recovery.</li>
                        <li><strong class="text-cyan-500">Performance Tuning:</strong> Query optimization, indexing, caching.</li>
                        <li><strong class="text-cyan-500">Security:</strong> User management, encryption, audit trails.</li>
                        <li><strong class="text-cyan-500">Monitoring:</strong> Track performance metrics dan health.</li>
                        <li><strong class="text-cyan-500">Scaling:</strong> Vertical vs horizontal scaling, replication.</li>
                    </ul>
                `
            },
            mobile: {
                title: "Mobile Development",
                content: `
                    <p><strong class="text-purple-500">Mobile Development</strong> adalah proses pembuatan aplikasi untuk perangkat mobile seperti smartphone dan tablet.</p>
                    
                    <h4 class="text-lg font-bold text-white mt-4 mb-2">1. Platform Mobile</h4>
                    <ul class="list-disc pl-5 mt-2 space-y-2">
                        <li><strong class="text-purple-500">Native Development:</strong> iOS (Swift/Objective-C), Android (Kotlin/Java).</li>
                        <li><strong class="text-purple-500">Cross-Platform:</strong> Satu codebase untuk multiple platforms.</li>
                        <li><strong class="text-purple-500">Hybrid:</strong> Web technologies wrapped in native container.</li>
                        <li><strong class="text-purple-500">Progressive Web Apps:</strong> Web apps dengan capabilities native.</li>
                    </ul>

                    <h4 class="text-lg font-bold text-white mt-4 mb-2">2. Android Development</h4>
                    <ul class="list-disc pl-5 mt-2 space-y-2">
                        <li><strong class="text-purple-500">Activities & Fragments:</strong> Komponen UI dan lifecycle management.</li>
                        <li><strong class="text-purple-500">Material Design:</strong> Design language untuk Android apps.</li>
                        <li><strong class="text-purple-500">Jetpack Components:</strong> Architecture, UI, foundation libraries.</li>
                        <li><strong class="text-purple-500">Kotlin:</strong> Modern programming language untuk Android.</li>
                        <li><strong class="text-purple-500">Android Studio:</strong> Official IDE untuk Android development.</li>
                    </ul>

                    <h4 class="text-lg font-bold text-white mt-4 mb-2">3. iOS Development</h4>
                    <ul class="list-disc pl-5 mt-2 space-y-2">
                        <li><strong class="text-purple-500">UIKit & SwiftUI:</strong> Frameworks untuk UI development.</li>
                        <li><strong class="text-purple-500">View Controllers:</strong> Managing views dan navigation.</li>
                        <li><strong class="text-purple-500">Core Data:</strong> Framework untuk data persistence.</li>
                        <li><strong class="text-purple-500">Xcode:</strong> IDE untuk iOS development.</li>
                        <li><strong class="text-purple-500">App Store Guidelines:</strong> Requirements untuk publish apps.</li>
                    </ul>

                    <h4 class="text-lg font-bold text-white mt-4 mb-2">4. Cross-Platform Frameworks</h4>
                    <ul class="list-disc pl-5 mt-2 space-y-2">
                        <li><strong class="text-purple-500">React Native:</strong> JavaScript framework dari Facebook.</li>
                        <li><strong class="text-purple-500">Flutter:</strong> Dart framework dari Google.</li>
                        <li><strong class="text-purple-500">Xamarin:</strong> .NET framework dari Microsoft.</li>
                        <li><strong class="text-purple-500">Ionic:</strong> Hybrid framework dengan Angular.</li>
                        <li><strong class="text-purple-500">Cordova/PhoneGap:</strong> Web technologies dalam native wrapper.</li>
                    </ul>

                    <h4 class="text-lg font-bold text-white mt-4 mb-2">5. Mobile App Best Practices</h4>
                    <ul class="list-disc pl-5 mt-2 space-y-2">
                        <li><strong class="text-purple-500">UI/UX Design:</strong> User-centered design, intuitive navigation.</li>
                        <li><strong class="text-purple-500">Performance:</strong> Optimize battery, memory, network usage.</li>
                        <li><strong class="text-purple-500">Security:</strong> Data encryption, secure API communication.</li>
                        <li><strong class="text-purple-500">Testing:</strong> Unit tests, integration tests, UI tests.</li>
                        <li><strong class="text-purple-500">App Store Optimization:</strong> Improve visibility dan downloads.</li>
                    </ul>

                    <h4 class="text-lg font-bold text-white mt-4 mb-2">6. Mobile Technologies</h4>
                    <ul class="list-disc pl-5 mt-2 space-y-2">
                        <li><strong class="text-purple-500">Push Notifications:</strong> Firebase Cloud Messaging, APNs.</li>
                        <li><strong class="text-purple-500">Location Services:</strong> GPS, geofencing, maps integration.</li>
                        <li><strong class="text-purple-500">Sensors:</strong> Accelerometer, gyroscope, camera, microphone.</li>
                        <li><strong class="text-purple-500">Offline Support:</strong> Local storage, sync strategies.</li>
                        <li><strong class="text-purple-500">App Distribution:</strong> Beta testing, CI/CD pipelines.</li>
                    </ul>
                `
            }
        };

        // --- MATERI MODAL LOGIC ---
        function openMateri(key) {
            const data = materiData[key];
            if(data) {
                document.getElementById('materiTitle').innerText = data.title;
                document.getElementById('materiContent').innerHTML = data.content;
                document.getElementById('materiModal').classList.remove('hidden');
                document.getElementById('materiModal').classList.add('flex');
            }
        }

        function closeMateri() {
            document.getElementById('materiModal').classList.add('hidden');
            document.getElementById('materiModal').classList.remove('flex');
        }

        // --- DATA SOAL & QUIZ LOGIC (Preserved) ---
        const questionsData = [
            { id: 1, q: 'Bagaimana cara mencetak "Hello" di Python?', options: [{ t: 'print()', c: true }, { t: 'echo', c: false }, { t: 'console.log()', c: false }] },
            { id: 2, q: 'Apa ekstensi file kode Python?', options: [{ t: '.js', c: false }, { t: '.py', c: true }, { t: '.html', c: false }] },
            { id: 3, q: 'Variabel mana yang benar?', options: [{ t: '2nama', c: false }, { t: 'nama_saya', c: true }, { t: 'nama saya', c: false }] },
            { id: 4, q: 'Tipe data untuk teks disebut?', options: [{ t: 'String', c: true }, { t: 'Boolean', c: false }, { t: 'Float', c: false }] },
            { id: 5, q: 'Simbol untuk komentar di Python?', options: [{ t: '#', c: true }, { t: '//', c: false }, { t: '<!--', c: false }] },
            { id: 6, q: 'Hasil dari 5 > 3 adalah?', options: [{ t: 'True', c: true }, { t: 'False', c: false }] },
            { id: 7, q: 'Loop "for i in range(3)" berjalan berapa kali?', options: [{ t: '3 kali', c: true }, { t: '2 kali', c: false }] },
            { id: 8, q: 'Operator logika "DAN" di Python?', options: [{ t: 'and', c: true }, { t: '&&', c: false }] },
            { id: 9, q: 'Loop yang berjalan selamanya jika kondisi benar?', options: [{ t: 'while', c: true }, { t: 'for', c: false }] },
            { id: 10, q: 'Kata kunci "else if" di Python disingkat?', options: [{ t: 'elif', c: true }, { t: 'else if', c: false }] },
            { id: 11, q: 'Simbol untuk membuat List?', options: [{ t: '[]', c: true }, { t: '{}', c: false }] },
            { id: 12, q: 'Simbol untuk Dictionary?', options: [{ t: '{}', c: true }, { t: '[]', c: false }] },
            { id: 13, q: 'Cara menghitung panjang list?', options: [{ t: 'len()', c: true }, { t: 'count()', c: false }] },
            { id: 14, q: 'Menambah item ke list?', options: [{ t: 'append()', c: true }, { t: 'add()', c: false }] },
            { id: 15, q: 'Indeks pertama dalam list?', options: [{ t: '0', c: true }, { t: '1', c: false }] }
        ];

        // Data penjelasan untuk setiap soal
        const explanationsData = {
            1: 'Fungsi print() adalah cara standar untuk menampilkan output di Python. Fungsi ini akan mencetak teks atau nilai ke console.',
            2: 'File Python menggunakan ekstensi .py. Ini adalah konvensi yang dikenali oleh interpreter Python dan editor kode.',
            3: 'Nama variabel di Python harus dimulai dengan huruf atau underscore, tidak boleh dimulai dengan angka. "nama_saya" valid karena dimulai dengan huruf.',
            4: 'String adalah tipe data yang digunakan untuk menyimpan teks atau karakter di Python. Contoh: "Hello World".',
            5: 'Komentar di Python menggunakan simbol #. Semua teks setelah # dalam satu baris akan diabaikan oleh interpreter.',
            6: '5 > 3 adalah pernyataan benar, sehingga menghasilkan nilai Boolean True. Operator perbandingan mengembalikan True atau False.',
            7: 'range(3) menghasilkan sequence [0, 1, 2], sehingga loop for akan berjalan 3 kali untuk setiap nilai dalam sequence tersebut.',
            8: 'Operator logika "DAN" di Python adalah "and". Operator ini mengembalikan True jika kedua operand bernilai True.',
            9: 'Loop while akan terus berjalan selama kondisi yang diberikan bernilai True. Jika kondisi selalu True, maka loop akan berjalan selamanya.',
            10: 'Di Python, "else if" disingkat menjadi "elif". Ini digunakan untuk mengecek kondisi tambahan dalam struktur if-elif-else.',
            11: 'List di Python dibuat menggunakan tanda kurung siku []. Contoh: my_list = [1, 2, 3].',
            12: 'Dictionary di Python dibuat menggunakan tanda kurung kurawal {}. Contoh: my_dict = {"key": "value"}.',
            13: 'Fungsi len() digunakan untuk menghitung panjang (jumlah elemen) dari list, string, atau struktur data lainnya.',
            14: 'Method append() digunakan untuk menambahkan elemen baru ke akhir list. Contoh: my_list.append("new_item").',
            15: 'Indexing di Python dimulai dari 0. Jadi elemen pertama dalam list memiliki indeks 0, bukan 1.'
        };

        function getExplanation(questionId) {
            return explanationsData[questionId] || 'Penjelasan untuk soal ini belum tersedia.';
        }

        let userState = { name: "Guest", initial: "G", xp: 10, gems: 10, currentLevel: 1 };
        let currentActiveQuestion = null;
        let selectedOptionBtn = null;
        let isSelectionCorrect = false;

        function safeSetText(id, text) {
            const el = document.getElementById(id);
            if (el) el.innerText = text;
        }

        document.addEventListener('DOMContentLoaded', () => {
            const savedUser = sessionStorage.getItem('codelingo_session_v1');
            if (savedUser) {
                try {
                    userState = JSON.parse(savedUser);
                    if (!userState.currentLevel) userState.currentLevel = 1;
                    
                    document.getElementById('landingPage').classList.add('hidden');
                    document.getElementById('loginPage').classList.add('hidden');
                    document.getElementById('appContainer').classList.remove('hidden');
                    document.getElementById('appContainer').classList.add('flex');
                    document.getElementById('mobileNav').classList.remove('hidden');
                    document.getElementById('mobileNav').classList.add('flex');
                    
                    updateUserUI();
                    renderPath();
                    switchPage('dashboard');
                } catch (e) {
                    sessionStorage.removeItem('codelingo_session_v1');
                }
            }
        });

        function goToLogin() {
            document.getElementById('landingPage').classList.add('hidden');
            document.getElementById('loginPage').classList.remove('hidden');
            document.getElementById('loginPage').classList.add('flex');
        }

        function backToLanding() {
            document.getElementById('loginPage').classList.add('hidden');
            document.getElementById('loginPage').classList.remove('flex');
            document.getElementById('landingPage').classList.remove('hidden');
        }

        function handleLogin(e) {
            e.preventDefault();
            const email = document.getElementById('emailInput').value;
            const name = email.split('@')[0];
            const formattedName = name.charAt(0).toUpperCase() + name.slice(1);
            
            userState.name = formattedName;
            userState.initial = formattedName.charAt(0).toUpperCase();
            userState.xp = 10;
            userState.gems = 10;
            userState.currentLevel = 1;

            sessionStorage.setItem('codelingo_session_v1', JSON.stringify(userState));

            document.getElementById('loginPage').classList.add('hidden');
            document.getElementById('loginPage').classList.remove('flex');
            document.getElementById('appContainer').classList.remove('hidden');
            document.getElementById('appContainer').classList.add('flex');
            document.getElementById('mobileNav').classList.remove('hidden');
            document.getElementById('mobileNav').classList.add('flex');
            
            updateUserUI();
            renderPath();
            switchPage('dashboard');
        }

        function logout() {
            sessionStorage.removeItem('codelingo_session_v1');
            location.reload();
        }

        function updateUserUI() {
            safeSetText('profile-name', userState.name);
            safeSetText('dash-name', userState.name);
            
            const username = '@' + userState.name.toLowerCase().replace(' ', '_');
            safeSetText('profile-username', username);
            
            safeSetText('profile-total-xp', userState.xp);
            safeSetText('mobile-xp', userState.xp);
            safeSetText('dash-xp', userState.xp);
            
            // Update sidebar belajar
            safeSetText('learn-current-level', userState.currentLevel);
            safeSetText('learn-total-xp', userState.xp);
            
            safeSetText('mobile-gems', userState.gems);
            safeSetText('shop-gems', userState.gems);
            safeSetText('dash-gems', userState.gems);
            
            const avatar = document.getElementById('profile-avatar');
            if(avatar) avatar.src = `https://api.dicebear.com/7.x/avataaars/svg?seed=${userState.name}`;

            renderLeaderboard();
        }

        function toggleEditProfile() {
            const form = document.getElementById('edit-profile-form');
            form.classList.toggle('hidden');
            if(!form.classList.contains('hidden')){
                document.getElementById('edit-name').value = userState.name;
                document.getElementById('edit-username').value = '@' + userState.name.toLowerCase().replace(' ', '_');
            }
        }

        function saveProfile() {
            const newName = document.getElementById('edit-name').value;
            if (newName.trim() !== "") {
                userState.name = newName;
                userState.initial = newName.charAt(0).toUpperCase();
                sessionStorage.setItem('codelingo_session_v1', JSON.stringify(userState));
                updateUserUI();
                toggleEditProfile();
                alert('Profil berhasil diperbarui!');
            }
        }

        function renderPath() {
            const container = document.getElementById('learningPath');
            container.innerHTML = ''; 

            const unit1Header = `
                <div class="w-full mb-8 glass-panel rounded-3xl p-6 flex justify-between items-center border border-brand-primary/30 relative overflow-hidden group">
                    <div class="absolute inset-0 bg-brand-primary/5 translate-y-full group-hover:translate-y-0 transition duration-500"></div>
                    <div class="relative z-10">
                        <h2 class="text-2xl font-black uppercase text-brand-primary tracking-tight">Unit 1: Hello World</h2>
                        <p class="text-slate-300 text-sm mt-1 font-medium">Dasar Python, Variabel & Tipe Data</p>
                    </div>
                </div>`;
            container.insertAdjacentHTML('beforeend', unit1Header);

            for(let i=0; i<5; i++) {
                container.appendChild(createLevelButton(i));
            }

             const unit2Locked = userState.currentLevel <= 5;
             const unit2Header = `
                <div class="w-full mt-12 mb-8 glass-panel rounded-3xl p-6 flex justify-between items-center border border-white/10 ${unit2Locked ? 'opacity-50 grayscale' : ''}">
                    <div>
                        <h2 class="text-2xl font-black uppercase text-brand-secondary tracking-tight">Unit 2: Logika</h2>
                        <p class="text-slate-300 text-sm mt-1 font-medium">If, Else, Loop & Boolean</p>
                    </div>
                    <i class="fa-solid fa-${unit2Locked ? 'lock' : 'unlock'} text-2xl text-slate-500"></i>
                </div>`;
            container.insertAdjacentHTML('beforeend', unit2Header);

            for(let i=5; i<10; i++) {
                container.appendChild(createLevelButton(i));
            }

            const unit3Locked = userState.currentLevel <= 10;
            const unit3Header = `
                <div class="w-full mt-12 mb-8 glass-panel rounded-3xl p-6 flex justify-between items-center border border-white/10 ${unit3Locked ? 'opacity-50 grayscale' : ''}">
                    <div>
                        <h2 class="text-2xl font-black uppercase text-brand-success tracking-tight">Unit 3: Struktur Data</h2>
                        <p class="text-slate-300 text-sm mt-1 font-medium">List, Dictionary & Method</p>
                    </div>
                    <i class="fa-solid fa-${unit3Locked ? 'lock' : 'unlock'} text-2xl text-slate-500"></i>
                </div>`;
            container.insertAdjacentHTML('beforeend', unit3Header);

            for(let i=10; i<15; i++) {
                container.appendChild(createLevelButton(i));
            }
        }

        function createLevelButton(index) {
            const levelNum = index + 1;
            const wrapper = document.createElement('div');
            wrapper.className = "level-btn-wrapper relative z-10 " + (index % 2 === 0 ? "mr-12" : "ml-12"); 
            
            let btnHTML = '';
            let isLocked = false;
            if(levelNum > 5 && userState.currentLevel <= 5) isLocked = true;
            if(levelNum > 10 && userState.currentLevel <= 10) isLocked = true;

            if (levelNum < userState.currentLevel) {
                btnHTML = `<button class="w-20 h-20 rounded-full bg-brand-warning border-b-[6px] border-yellow-600 flex items-center justify-center text-3xl text-slate-900 btn-3d shadow-lg ring-4 ring-dark-bg"><i class="fa-solid fa-check"></i></button>`;
            } else if (levelNum === userState.currentLevel && !isLocked) {
                btnHTML = `
                <div class="absolute -top-12 left-1/2 transform -translate-x-1/2 bg-white text-brand-primary font-bold px-3 py-1 rounded-lg shadow-lg animate-bounce whitespace-nowrap text-xs border-2 border-brand-primary">START</div>
                <button onclick="openLesson(${levelNum})" class="w-24 h-24 rounded-full bg-brand-primary border-b-[8px] border-indigo-600 flex items-center justify-center text-4xl text-white shadow-[0_0_40px_rgba(99,102,241,0.5)] btn-3d hover:brightness-110 ring-4 ring-dark-bg transition transform hover:scale-110"><i class="fa-solid fa-star"></i></button>`;
            } else {
                btnHTML = `<button class="w-16 h-16 rounded-full bg-slate-800 border-b-[6px] border-slate-900 flex items-center justify-center text-xl text-slate-600 btn-3d cursor-not-allowed ring-4 ring-dark-bg"><i class="fa-solid fa-lock"></i></button>`;
            }
            wrapper.innerHTML = btnHTML;
            return wrapper;
        }

        function openLesson(levelId) {
            const qData = questionsData.find(q => q.id === levelId);
            if (!qData) return;

            currentActiveQuestion = qData;
            selectedOptionBtn = null;

            document.getElementById('lessonModal').classList.remove('hidden');
            document.getElementById('lessonModal').classList.add('flex');
            
            document.getElementById('questionText').innerText = qData.q;
            const optContainer = document.getElementById('optionsContainer');
            optContainer.innerHTML = '';

            qData.options.forEach((opt, idx) => {
                const btn = document.createElement('button');
                btn.className = 'option-btn glass-panel border border-white/10 rounded-2xl p-5 hover:bg-slate-800 text-left transition btn-3d border-b-slate-700 active:border-b-0 relative group w-full';
                btn.onclick = () => selectOption(btn, opt.c);
                btn.innerHTML = `<span class="font-bold text-slate-500 mr-3 text-lg group-hover:text-white transition">${idx+1}</span> <code class="text-brand-primary font-bold text-lg">${opt.t}</code>`;
                optContainer.appendChild(btn);
            });

            const checkBtn = document.getElementById('checkBtn');
            checkBtn.disabled = true;
            checkBtn.className = 'w-full py-4 rounded-2xl bg-slate-700 text-slate-400 font-black uppercase tracking-widest text-lg btn-3d border-b-slate-800 cursor-not-allowed';
            checkBtn.innerText = "PERIKSA";
            checkBtn.classList.remove('hidden');
            
            document.getElementById('continueBtn').classList.add('hidden');
            document.getElementById('feedbackArea').classList.add('hidden');
            document.getElementById('progressBar').style.width = "10%";
        }

        function closeLesson() {
            document.getElementById('lessonModal').classList.add('hidden');
            document.getElementById('lessonModal').classList.remove('flex');
        }

        function selectOption(btn, isCorrect) {
            document.querySelectorAll('.option-btn').forEach(b => {
                b.classList.remove('border-brand-primary', 'bg-brand-primary/10');
                b.classList.add('border-white/10');
            });
            btn.classList.remove('border-white/10');
            btn.classList.add('border-brand-primary', 'bg-brand-primary/10');
            selectedOptionBtn = btn;
            isSelectionCorrect = isCorrect;
            const checkBtn = document.getElementById('checkBtn');
            checkBtn.disabled = false;
            checkBtn.className = 'w-full py-4 rounded-2xl bg-brand-success text-white font-black text-lg uppercase tracking-widest btn-3d border-b-green-700 hover:brightness-110 shadow-lg cursor-pointer';
        }

        function checkAnswer() {
            const feedbackArea = document.getElementById('feedbackArea');
            const checkBtn = document.getElementById('checkBtn');
            const continueBtn = document.getElementById('continueBtn');
            feedbackArea.classList.remove('hidden');

            if (isSelectionCorrect) {
                selectedOptionBtn.classList.remove('border-brand-primary', 'bg-brand-primary/10');
                selectedOptionBtn.classList.add('border-brand-success', 'bg-brand-success/20');
                feedbackArea.className = "mb-4 p-4 rounded-xl font-bold flex items-center gap-3 bg-brand-success/10 text-brand-success border border-brand-success/20";
                feedbackArea.innerHTML = '<i class="fa-solid fa-circle-check text-2xl"></i> <div><div class="text-lg">Benar!</div><div class="text-sm font-normal text-slate-300">Jawaban Tepat! +10 XP</div></div>';
                document.getElementById('progressBar').style.width = "100%";
                checkBtn.classList.add('hidden');
                continueBtn.classList.remove('hidden');
            } else {
                selectedOptionBtn.classList.remove('border-brand-primary', 'bg-brand-primary/10');
                selectedOptionBtn.classList.add('border-brand-danger', 'bg-brand-danger/20');
                
                // Cari jawaban yang benar
                const correctOption = currentActiveQuestion.options.find(opt => opt.c === true);
                const correctIndex = currentActiveQuestion.options.findIndex(opt => opt.c === true) + 1;
                
                feedbackArea.className = "mb-4 p-4 rounded-xl font-bold bg-brand-danger/10 text-brand-danger border border-brand-danger/20";
                feedbackArea.innerHTML = `
                    <i class="fa-solid fa-circle-xmark text-2xl"></i> 
                    <div class="flex-1">
                        <div class="text-lg">Jawaban Salah</div>
                        <div class="text-sm font-normal text-slate-300 mt-1">
                            Jawaban yang benar adalah: <strong class="text-white">${correctIndex}. ${correctOption.t}</strong>
                        </div>
                        <div class="text-xs text-slate-400 mt-2">
                            ${getExplanation(currentActiveQuestion.id)}
                        </div>
                    </div>
                `;
                
                // Ubah tombol check menjadi coba lagi
                checkBtn.innerText = "COBA LAGI";
                checkBtn.className = 'w-full py-4 rounded-2xl bg-brand-warning text-slate-900 font-black text-lg uppercase tracking-widest btn-3d border-b-yellow-700 hover:brightness-110 shadow-lg cursor-pointer';
                checkBtn.onclick = () => {
                    // Reset modal untuk mencoba lagi
                    openLesson(currentActiveQuestion.id);
                };
            }
        }

        function finishLevel() {
            if (userState.currentLevel <= questionsData.length) {
                if(userState.currentLevel === currentActiveQuestion.id) {
                    userState.currentLevel++;
                }
            }
            userState.xp += 10;
            sessionStorage.setItem('codelingo_session_v1', JSON.stringify(userState));
            closeLesson();
            updateUserUI();
            renderPath();
        }

        function buyItem(btn, cost) {
            if(userState.gems < cost) {
                alert("Berlian tidak cukup!");
                return;
            }
            userState.gems -= cost;
            sessionStorage.setItem('codelingo_session_v1', JSON.stringify(userState));
            updateUserUI();
            const originalHTML = btn.innerHTML;
            btn.innerHTML = '<i class="fa-solid fa-check"></i>';
            setTimeout(() => { btn.innerHTML = originalHTML; }, 1500);
        }

        function switchPage(pageId) {
            document.querySelectorAll('.page-section').forEach(page => page.classList.add('hidden'));
            document.getElementById('page-' + pageId).classList.remove('hidden');
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('nav-item-active');
            });
            const activeNav = document.getElementById('nav-' + pageId);
            if(activeNav) activeNav.classList.add('nav-item-active');
            
            // Update UI elements when switching to learn page
            if(pageId === 'learn') {
                updateUserUI();
            }
            
            // Render leaderboard when switching to leaderboard page
            if(pageId === 'leaderboard') {
                leaderboardDisplayCount = 10; // Reset to initial count
                renderLeaderboard();
            }
            
            const mobileNavs = ['learn', 'leaderboard', 'shop', 'profile'];
            mobileNavs.forEach(id => {
                const btn = document.getElementById('mobile-nav-' + id);
                if(btn) {
                    if(id === pageId) btn.classList.add('text-brand-primary');
                    else btn.classList.remove('text-brand-primary');
                }
            });
        }

        let leaderboardData = [
            { name: "ProCoder_2025", xp: 3120, initial: "P", color: "from-yellow-400 to-orange-500" },
            { name: "Alex_Code", xp: 2450, initial: "A", color: "from-slate-400 to-slate-600" },
            { name: "TechWizard", xp: 2180, initial: "T", color: "from-amber-400 to-amber-600" },
            { name: "CodeNinja", xp: 1950, initial: "C", color: "from-red-400 to-pink-500" },
            { name: "PythonMaster", xp: 1780, initial: "P", color: "from-blue-400 to-indigo-500" },
            { name: "DevStudent", xp: 1620, initial: "D", color: "from-green-400 to-emerald-500" },
            { name: "AlgoExpert", xp: 1490, initial: "A", color: "from-purple-400 to-violet-500" },
            { name: "ScriptKid", xp: 1320, initial: "S", color: "from-cyan-400 to-teal-500" },
            { name: "ByteMaster", xp: 1180, initial: "B", color: "from-indigo-400 to-purple-500" },
            { name: "CodeWarrior", xp: 1050, initial: "C", color: "from-orange-400 to-red-500" },
            { name: "DataMiner", xp: 920, initial: "D", color: "from-pink-400 to-rose-500" },
            { name: "WebDev", xp: 780, initial: "W", color: "from-emerald-400 to-green-500" },
            { name: "PixelArt", xp: 650, initial: "P", color: "from-teal-400 to-cyan-500" },
            { name: "CyberSec", xp: 520, initial: "C", color: "from-red-400 to-rose-500" },
            { name: "GameDev", xp: 400, initial: "G", color: "from-purple-400 to-pink-500" },
            { name: "MobileDev", xp: 320, initial: "M", color: "from-blue-400 to-indigo-500" },
            { name: "CloudEng", xp: 250, initial: "C", color: "from-indigo-400 to-purple-500" },
            { name: "AIEng", xp: 180, initial: "A", color: "from-emerald-400 to-green-500" },
            { name: "DevOps", xp: 120, initial: "D", color: "from-orange-400 to-red-500" },
            { name: "UXDesigner", xp: 80, initial: "U", color: "from-pink-400 to-rose-500" }
        ];

        // Leaderboard pagination state
        let leaderboardDisplayCount = 10;

        function renderLeaderboard() {
            const podiumContainer = document.getElementById('podium-container');
            const fullListContainer = document.getElementById('leaderboard-full-list');
            const widgetContent = document.getElementById('widget-leaderboard-content');
            const userRankElement = document.getElementById('user-rank');
            const userNameElement = document.getElementById('user-name');
            const userXpElement = document.getElementById('user-xp');
            const leagueProgressElement = document.getElementById('league-progress');
            const leagueProgressBarElement = document.getElementById('league-progress-bar');

            if (!podiumContainer || !fullListContainer) return;

            const currentUserEntry = {
                name: userState.name,
                xp: userState.xp,
                initial: userState.initial,
                color: "from-brand-primary to-brand-accent",
                isUser: true
            };
            let combinedList = [...leaderboardData, currentUserEntry];
            combinedList.sort((a, b) => b.xp - a.xp);

            // Calculate league progress (assuming Diamond league requires 3000 XP)
            const diamondThreshold = 3000;
            const leagueProgress = Math.min((userState.xp / diamondThreshold) * 100, 100);
            if (leagueProgressElement) leagueProgressElement.textContent = Math.round(leagueProgress) + "%";
            if (leagueProgressBarElement) leagueProgressBarElement.style.width = leagueProgress + "%";

            // Find user rank
            const userRank = combinedList.findIndex(user => user.isUser) + 1;
            if (userRankElement) userRankElement.textContent = userRank;
            if (userNameElement) userNameElement.textContent = userState.name;
            if (userXpElement) userXpElement.textContent = userState.xp + " XP";

            // Render Podium (Top 3)
            podiumContainer.innerHTML = "";
            const top3 = combinedList.slice(0, 3);

            // Create podium positions (2nd, 1st, 3rd)
            const podiumOrder = [top3[1], top3[0], top3[2]]; // 2nd, 1st, 3rd
            const podiumClasses = [
                "glass-panel p-6 rounded-2xl text-center relative overflow-hidden group hover:-translate-y-2 transition-all duration-300 border border-white/10", // 2nd
                "glass-panel p-8 rounded-2xl text-center relative overflow-hidden group hover:-translate-y-2 transition-all duration-300 border-2 border-brand-warning/50 bg-gradient-to-br from-brand-warning/10 to-yellow-500/10", // 1st
                "glass-panel p-6 rounded-2xl text-center relative overflow-hidden group hover:-translate-y-2 transition-all duration-300 border border-white/10" // 3rd
            ];
            const podiumBackgrounds = [
                "bg-gradient-to-br from-slate-600/20 to-slate-800/20",
                "",
                "bg-gradient-to-br from-amber-600/20 to-amber-800/20"
            ];
            const podiumIcons = ["fa-medal", "fa-trophy", "fa-medal"];
            const podiumColors = ["text-slate-300", "text-brand-warning", "text-amber-300"];
            const podiumSizes = ["w-16 h-16", "w-20 h-20", "w-16 h-16"];

            podiumOrder.forEach((user, index) => {
                if (!user) return;

                const rank = index === 0 ? 2 : index === 1 ? 1 : 3;
                const html = `
                    <div class="${podiumClasses[index]}">
                        ${index === 1 ? '<div class="absolute -top-4 left-1/2 transform -translate-x-1/2"><i class="fa-solid fa-crown text-3xl text-brand-warning animate-bounce"></i></div>' : ''}
                        <div class="absolute inset-0 ${podiumBackgrounds[index]}"></div>
                        <div class="relative z-10">
                            <div class="${podiumSizes[index]} mx-auto mb-3 rounded-full bg-gradient-to-br ${user.color} flex items-center justify-center text-2xl shadow-lg ${index === 1 ? 'shadow-brand-warning/30 animate-pulse' : ''}">
                                <i class="fa-solid fa-user text-white"></i>
                            </div>
                            <div class="text-sm font-bold text-white mb-1">${user.name}</div>
                            <div class="text-xs ${index === 1 ? 'text-brand-warning font-bold' : 'text-slate-400'} mb-2">${user.xp} XP</div>
                            <div class="inline-flex items-center gap-1 px-3 py-1 ${index === 1 ? 'bg-brand-warning/20 border border-brand-warning/30' : index === 0 ? 'bg-slate-600/50' : 'bg-amber-600/50'} rounded-full text-xs font-bold ${podiumColors[index]}">
                                <i class="fa-solid ${podiumIcons[index]}"></i> #${rank}
                            </div>
                        </div>
                    </div>
                `;
                podiumContainer.innerHTML += html;
            });

            // Render Full Leaderboard (with pagination)
            fullListContainer.innerHTML = "";
            const displayList = combinedList.slice(0, leaderboardDisplayCount);
            displayList.forEach((user, index) => {
                const rank = index + 1;
                let rankColor = "text-slate-400";
                if (rank === 1) rankColor = "text-yellow-400";
                if (rank === 2) rankColor = "text-slate-300";
                if (rank === 3) rankColor = "text-orange-400";

                const bgClass = user.isUser ? "bg-brand-primary/5 border-l-4 border-brand-primary" : rank <= 3 ? "bg-gradient-to-r from-yellow-500/5 to-orange-500/5 border-l-4 border-yellow-400/50" : "hover:bg-white/5";
                const xpChange = user.isUser ? "+25" : ["+15", "+8", "+12", "+5"][index % 4] || "+0";
                
                // Special badges for top 3
                let badgeHtml = "";
                if (rank === 1) badgeHtml = '<span class="ml-2 px-2 py-1 bg-yellow-500/20 text-yellow-400 text-xs rounded-full border border-yellow-400/30">ðŸ‘‘ Champion</span>';
                else if (rank === 2) badgeHtml = '<span class="ml-2 px-2 py-1 bg-slate-400/20 text-slate-300 text-xs rounded-full border border-slate-400/30">ðŸ¥ˆ Runner-up</span>';
                else if (rank === 3) badgeHtml = '<span class="ml-2 px-2 py-1 bg-orange-500/20 text-orange-400 text-xs rounded-full border border-orange-400/30">ðŸ¥‰ Third</span>';

                const html = `
                    <div class="p-4 ${bgClass} transition-all duration-300 group hover:scale-[1.02] ${rank <= 3 ? 'shadow-lg shadow-yellow-400/10 animate-slide-in-up animate-champion-glow' : 'animate-slide-in-up'}" style="animation-delay: ${index * 0.1}s" ${user.isUser ? 'data-is-user="true"' : ''}>
                        <div class="flex items-center gap-4">
                            <div class="relative">
                                <div class="w-12 h-12 rounded-full ${user.isUser ? 'bg-brand-primary/20 ring-2 ring-brand-primary/50' : rank <= 3 ? 'bg-gradient-to-br from-yellow-400 to-orange-500 ring-2 ring-yellow-400/50' : 'bg-slate-600'} flex items-center justify-center text-sm font-bold ${user.isUser ? 'text-brand-primary' : 'text-white'} overflow-hidden ${rank <= 3 ? 'animate-pulse' : ''}">
                                    ${user.isUser ? 
                                        `<img src="https://api.dicebear.com/7.x/avataaars/svg?seed=${user.name}" alt="${user.name}" class="w-full h-full object-cover">` :
                                        `<div class="w-full h-full bg-gradient-to-br ${user.color} flex items-center justify-center text-white font-bold text-lg">${user.initial}</div>`
                                    }
                                </div>
                                ${rank <= 3 ? '<div class="absolute -top-1 -right-1 w-5 h-5 bg-yellow-400 rounded-full flex items-center justify-center text-xs animate-bounce">ðŸ†</div>' : ''}
                            </div>
                            <div class="flex-1">
                                <div class="font-bold ${user.isUser ? 'text-brand-primary' : rank <= 3 ? 'text-yellow-400' : 'text-white'} flex items-center gap-2">
                                    ${user.name}
                                    ${user.isUser ? '<i class="fa-solid fa-star text-brand-warning text-xs animate-pulse"></i>' : ''}
                                    ${badgeHtml}
                                </div>
                                <div class="text-sm text-slate-400 flex items-center gap-2">
                                    <i class="fa-solid fa-bolt ${rank <= 3 ? 'text-yellow-400' : 'text-yellow-400'}"></i>
                                    ${user.xp} XP
                                    ${rank <= 3 ? '<span class="text-yellow-400 font-bold">(Top Tier)</span>' : ''}
                                </div>
                            </div>
                            <div class="text-right">
                                <div class="text-sm font-bold text-green-400 flex items-center gap-1">
                                    <i class="fa-solid fa-arrow-up"></i>
                                    ${xpChange}
                                </div>
                                <div class="text-xs text-slate-400">hari ini</div>
                            </div>
                        </div>
                    </div>
                `;
                fullListContainer.innerHTML += html;
            });

            // Widget List (for sidebar)
            if(widgetContent) {
                widgetContent.innerHTML = "";
                combinedList.slice(0, 5).forEach((user, index) => {
                    const rank = index + 1;
                    let rankColor = "text-slate-400";
                    if (rank === 1) rankColor = "text-yellow-400";
                    if (rank === 2) rankColor = "text-slate-300";
                    if (rank === 3) rankColor = "text-orange-400";

                    const bgClass = user.isUser ? "bg-brand-primary/10 border-brand-primary/30" : "hover:bg-white/5 border-transparent";

                    widgetContent.innerHTML += `
                        <div class="flex items-center gap-3 p-2 rounded-xl border ${bgClass} transition-colors">
                            <div class="font-mono font-bold w-6 text-center ${rankColor}">#${rank}</div>
                            <div class="w-8 h-8 rounded-full bg-dark-bg flex items-center justify-center font-bold text-xs text-slate-300 shadow-sm border border-white/10">
                                ${user.initial}
                            </div>
                            <div class="flex-1 text-sm font-bold ${user.isUser ? 'text-brand-primary' : 'text-white'} truncate">${user.name}</div>
                            <div class="font-mono font-bold text-slate-400 text-xs">${user.xp} XP</div>
                        </div>
                    `;
                });
            }
            
            // Handle load more button visibility
            const loadMoreBtn = document.getElementById('load-more-leaderboard');
            if (loadMoreBtn) {
                if (leaderboardDisplayCount >= combinedList.length) {
                    loadMoreBtn.style.display = 'none';
                } else {
                    loadMoreBtn.style.display = 'inline-block';
                }
            }
        }

        function loadMoreLeaderboard() {
            const loadMoreBtn = document.getElementById('load-more-leaderboard');
            leaderboardDisplayCount += 10; // Load 10 more players
            
            // Get current leaderboard data
            const currentUserEntry = {
                name: userState.name,
                xp: userState.xp,
                initial: userState.initial,
                color: "from-brand-primary to-brand-accent",
                isUser: true
            };
            let combinedList = [...leaderboardData, currentUserEntry];
            combinedList.sort((a, b) => b.xp - a.xp);
            
            // Check if we've loaded all players
            if (leaderboardDisplayCount >= combinedList.length) {
                leaderboardDisplayCount = combinedList.length;
            }
            
            renderLeaderboard();
        }

        function scrollToMyRank() {
            // First, ensure user is loaded in the leaderboard
            const currentUserEntry = {
                name: userState.name,
                xp: userState.xp,
                initial: userState.initial,
                color: "from-brand-primary to-brand-accent",
                isUser: true
            };
            let combinedList = [...leaderboardData, currentUserEntry];
            combinedList.sort((a, b) => b.xp - a.xp);
            
            const userRank = combinedList.findIndex(user => user.isUser) + 1;
            
            // If user rank is beyond current display count, load more until user is visible
            if (userRank > leaderboardDisplayCount) {
                leaderboardDisplayCount = Math.ceil(userRank / 10) * 10; // Load up to next 10 boundary
                renderLeaderboard();
                
                // Wait a bit for rendering to complete, then scroll
                setTimeout(() => {
                    scrollToUserElement();
                }, 100);
            } else {
                scrollToUserElement();
            }
        }

        function scrollToUserElement() {
            const fullListContainer = document.getElementById('leaderboard-full-list');
            const userElements = fullListContainer.querySelectorAll('[data-is-user="true"]');
            
            if (userElements.length > 0) {
                const userElement = userElements[0];
                
                // Add temporary highlight effect
                userElement.classList.add('ring-2', 'ring-brand-primary', 'ring-opacity-75', 'bg-brand-primary/10');
                userElement.style.animation = 'pulse 2s ease-in-out 3';
                
                // Scroll to the element
                userElement.scrollIntoView({ 
                    behavior: 'smooth', 
                    block: 'center',
                    inline: 'nearest' 
                });
                
                // Remove highlight after animation
                setTimeout(() => {
                    userElement.classList.remove('ring-2', 'ring-brand-primary', 'ring-opacity-75', 'bg-brand-primary/10');
                    userElement.style.animation = '';
                }, 6000); // Remove after 6 seconds
            }
        }
    </script>
</body>
</html>
